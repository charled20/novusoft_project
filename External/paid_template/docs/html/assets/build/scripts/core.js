var e;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(j,H){"use strict";function v(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function g(e){return null!=e&&e===e.window}var t=[],F=Object.getPrototypeOf,o=t.slice,M=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},I=t.push,R=t.indexOf,$={},W=$.toString,B=$.hasOwnProperty,K=B.toString,z=K.call(Object),_={},x=j.document,X={type:!0,src:!0,nonce:!0,noModule:!0};function U(e,t,n){var r,i,s=(n=n||x).createElement("script");if(s.text=e,t)for(r in X)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&s.setAttribute(r,i);n.head.appendChild(s).parentNode.removeChild(s)}function p(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[W.call(e)]||"object":typeof e}var e="3.6.0",k=function(e,t){return new k.fn.init(e,t)};function Y(e){var t=!!e&&"length"in e&&e.length,n=p(e);return!v(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:e,constructor:k,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=k.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:I,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,s=arguments[0]||{},a=1,o=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===o&&(s=this,a--);a<o;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(d&&n&&(k.isPlainObject(n)||(r=Array.isArray(n)))?(i=s[t],i=r&&!Array.isArray(i)?[]:r||k.isPlainObject(i)?i:{},r=!1,s[t]=k.extend(d,i,n)):void 0!==n&&(s[t]=n));return s},k.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==W.call(e))&&(!(e=F(e))||"function"==typeof(e=B.call(e,"constructor")&&e.constructor)&&K.call(e)===z)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){U(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(Y(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(Y(Object(e))?k.merge(t,"string"==typeof e?[e]:e):I.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:R.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,s=e.length,a=!n;i<s;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(Y(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return M(a)},guid:1,support:_}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});function r(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r}function J(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(H){function h(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function F(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function M(){x()}var e,u,b,s,I,f,R,$,j,d,c,x,k,n,w,p,r,i,g,C="sizzle"+ +new Date,l=H.document,T=0,W=0,B=O(),K=O(),z=O(),_=O(),X=function(e,t){return e===t&&(c=!0),0},U={}.hasOwnProperty,t=[],Y=t.pop,J=t.push,N=t.push,V=t.slice,v=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},G="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",o="(?:\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Q="\\["+a+"*("+o+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+o+"))|)"+a+"*\\]",Z=":("+o+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",ee=new RegExp(a+"+","g"),m=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),te=new RegExp("^"+a+"*,"+a+"*"),ne=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),re=new RegExp(a+"|>"),ie=new RegExp(Z),se=new RegExp("^"+o+"$"),y={ID:new RegExp("^#("+o+")"),CLASS:new RegExp("^\\.("+o+")"),TAG:new RegExp("^("+o+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+G+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},ae=/HTML$/i,oe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,A=/^[^{]+\{\s*\[native \w/,ce=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,le=/[+~]/,S=new RegExp("\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\([^\\r\\n\\f])","g"),he=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ue=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(t=V.call(l.childNodes),l.childNodes),t[l.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){J.apply(e,V.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function E(t,e,n,r){var i,s,a,o,d,c,l=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!r&&(x(e),e=e||k,w)){if(11!==h&&(o=ce.exec(t)))if(i=o[1]){if(9===h){if(!(c=e.getElementById(i)))return n;if(c.id===i)return n.push(c),n}else if(l&&(c=l.getElementById(i))&&g(e,c)&&c.id===i)return n.push(c),n}else{if(o[2])return N.apply(n,e.getElementsByTagName(t)),n;if((i=o[3])&&u.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(i)),n}if(u.qsa&&!_[t+" "]&&(!p||!p.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(c=t,l=e,1===h&&(re.test(t)||ne.test(t))){for((l=le.test(t)&&_e(e.parentNode)||e)===e&&u.scope||((a=e.getAttribute("id"))?a=a.replace(he,F):e.setAttribute("id",a=C)),s=(d=f(t)).length;s--;)d[s]=(a?"#"+a:":scope")+" "+P(d[s]);c=d.join(",")}try{return N.apply(n,l.querySelectorAll(c)),n}catch(e){_(t,!0)}finally{a===C&&e.removeAttribute("id")}}}return $(t.replace(m,"$1"),e,n,r)}function O(){var n=[];function r(e,t){return n.push(e+" ")>b.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function D(e){return e[C]=!0,e}function L(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ue(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function q(a){return D(function(s){return s=+s,D(function(e,t){for(var n,r=a([],e.length,s),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function _e(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in u=E.support={},I=E.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!ae.test(t||e&&e.nodeName||"HTML")},x=E.setDocument=function(e){var e=e?e.ownerDocument||e:l;return e!=k&&9===e.nodeType&&e.documentElement&&(n=(k=e).documentElement,w=!I(k),l!=k&&(e=k.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",M,!1):e.attachEvent&&e.attachEvent("onunload",M)),u.scope=L(function(e){return n.appendChild(e).appendChild(k.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),u.attributes=L(function(e){return e.className="i",!e.getAttribute("className")}),u.getElementsByTagName=L(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),u.getElementsByClassName=A.test(k.getElementsByClassName),u.getById=L(function(e){return n.appendChild(e).id=C,!k.getElementsByName||!k.getElementsByName(C).length}),u.getById?(b.filter.ID=function(e){var t=e.replace(S,h);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&w)return(t=t.getElementById(e))?[t]:[]}):(b.filter.ID=function(e){var t=e.replace(S,h);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&w){var n,r,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),r=0;s=i[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),b.find.TAG=u.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):u.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"!==e)return s;for(;n=s[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=u.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&w)return t.getElementsByClassName(e)},r=[],p=[],(u.qsa=A.test(k.querySelectorAll))&&(L(function(e){var t;n.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&p.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||p.push("\\["+a+"*(?:value|"+G+")"),e.querySelectorAll("[id~="+C+"-]").length||p.push("~="),(t=k.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+a+"*name"+a+"*="+a+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||p.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll("\\\f"),p.push("[\\r\\n\\f]")}),L(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&p.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&p.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),p.push(",.*:")})),(u.matchesSelector=A.test(i=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&L(function(e){u.disconnectedMatch=i.call(e,"*"),i.call(e,"[s!='']:x"),r.push("!=",Z)}),p=p.length&&new RegExp(p.join("|")),r=r.length&&new RegExp(r.join("|")),e=A.test(n.compareDocumentPosition),g=e||A.test(n.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=e?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!u.sortDetached&&t.compareDocumentPosition(e)===n?e==k||e.ownerDocument==l&&g(l,e)?-1:t==k||t.ownerDocument==l&&g(l,t)?1:d?v(d,e)-v(d,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!i||!s)return e==k?-1:t==k?1:i?-1:s?1:d?v(d,e)-v(d,t):0;if(i===s)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;a[r]===o[r];)r++;return r?pe(a[r],o[r]):a[r]==l?-1:o[r]==l?1:0}),k},E.matches=function(e,t){return E(e,null,null,t)},E.matchesSelector=function(e,t){if(x(e),u.matchesSelector&&w&&!_[t+" "]&&(!r||!r.test(t))&&(!p||!p.test(t)))try{var n=i.call(e,t);if(n||u.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){_(t,!0)}return 0<E(t,k,null,[e]).length},E.contains=function(e,t){return(e.ownerDocument||e)!=k&&x(e),g(e,t)},E.attr=function(e,t){(e.ownerDocument||e)!=k&&x(e);var n=b.attrHandle[t.toLowerCase()],n=n&&U.call(b.attrHandle,t.toLowerCase())?n(e,t,!w):void 0;return void 0!==n?n:u.attributes||!w?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},E.escape=function(e){return(e+"").replace(he,F)},E.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!u.detectDuplicates,d=!u.sortStable&&e.slice(0),e.sort(X),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return d=null,e},s=E.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=s(t);return n},(b=E.selectors={cacheLength:50,createPseudo:D,match:y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(S,h),e[3]=(e[3]||e[4]||e[5]||"").replace(S,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||E.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&E.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(S,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=E.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,g,_){var m="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===g&&0===_?function(e){return!!e.parentNode}:function(e,t,n){var r,i,s,a,o,d,c=m!=v?"nextSibling":"previousSibling",l=e.parentNode,h=y&&e.nodeName.toLowerCase(),u=!n&&!y,f=!1;if(l){if(m){for(;c;){for(a=e;a=a[c];)if(y?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;d=c="only"===p&&!d&&"nextSibling"}return!0}if(d=[v?l.firstChild:l.lastChild],v&&u){for(f=(o=(r=(i=(s=(a=l)[C]||(a[C]={}))[a.uniqueID]||(s[a.uniqueID]={}))[p]||[])[0]===T&&r[1])&&r[2],a=o&&l.childNodes[o];a=++o&&a&&a[c]||(f=o=0)||d.pop();)if(1===a.nodeType&&++f&&a===e){i[p]=[T,o,f];break}}else if(!1===(f=u?o=(r=(i=(s=(a=e)[C]||(a[C]={}))[a.uniqueID]||(s[a.uniqueID]={}))[p]||[])[0]===T&&r[1]:f))for(;(a=++o&&a&&a[c]||(f=o=0)||d.pop())&&((y?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++f||(u&&((i=(s=a[C]||(a[C]={}))[a.uniqueID]||(s[a.uniqueID]={}))[p]=[T,f]),a!==e)););return(f-=_)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,s){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||E.error("unsupported pseudo: "+e);return a[C]?a(s):1<a.length?(t=[e,e,"",s],b.setFilters.hasOwnProperty(e.toLowerCase())?D(function(e,t){for(var n,r=a(e,s),i=r.length;i--;)e[n=v(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:D(function(e){var r=[],i=[],o=R(e.replace(m,"$1"));return o[C]?D(function(e,t,n,r){for(var i,s=o(e,null,r,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,o(r,null,n,i),r[0]=null,!i.pop()}}),has:D(function(t){return function(e){return 0<E(t,e).length}}),contains:D(function(t){return t=t.replace(S,h),function(e){return-1<(e.textContent||s(e)).indexOf(t)}}),lang:D(function(n){return se.test(n||"")||E.error("unsupported lang: "+n),n=n.replace(S,h).toLowerCase(),function(e){var t;do{if(t=w?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=H.location&&H.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return oe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:q(function(){return[0]}),last:q(function(e,t){return[t-1]}),eq:q(function(e,t,n){return[n<0?n+t:n]}),even:q(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:q(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:q(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:q(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function P(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(a,e,t){var o=e.dir,d=e.next,c=d||o,l=t&&"parentNode"===c,h=W++;return e.first?function(e,t,n){for(;e=e[o];)if(1===e.nodeType||l)return a(e,t,n);return!1}:function(e,t,n){var r,i,s=[T,h];if(n){for(;e=e[o];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[o];)if(1===e.nodeType||l)if(i=(i=e[C]||(e[C]={}))[e.uniqueID]||(i[e.uniqueID]={}),d&&d===e.nodeName.toLowerCase())e=e[o]||e;else{if((r=i[c])&&r[0]===T&&r[1]===h)return s[2]=r[2];if((i[c]=s)[2]=a(e,t,n))return!0}return!1}}function ye(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function be(e,t,n,r,i){for(var s,a=[],o=0,d=e.length,c=null!=t;o<d;o++)!(s=e[o])||n&&!n(s,r,i)||(a.push(s),c&&t.push(o));return a}function je(f,p,g,_,m,e){return _&&!_[C]&&(_=je(_)),m&&!m[C]&&(m=je(m,e)),D(function(e,t,n,r){var i,s,a,o=[],d=[],c=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)E(e,t[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!e&&p?l:be(l,o,f,n,r),u=g?m||(e?f:c||_)?[]:t:h;if(g&&g(h,u,n,r),_)for(i=be(u,d),_(i,[],n,r),s=i.length;s--;)(a=i[s])&&(u[d[s]]=!(h[d[s]]=a));if(e){if(m||f){if(m){for(i=[],s=u.length;s--;)(a=u[s])&&i.push(h[s]=a);m(null,u=[],i,r)}for(s=u.length;s--;)(a=u[s])&&-1<(i=m?v(e,a):o[s])&&(e[i]=!(t[i]=a))}}else u=be(u===t?u.splice(c,u.length):u),m?m(null,t,u,r):N.apply(t,u)})}function xe(_,m){function e(e,t,n,r,i){var s,a,o,d=0,c="0",l=e&&[],h=[],u=j,f=e||y&&b.find.TAG("*",i),p=T+=null==u?1:Math.random()||.1,g=f.length;for(i&&(j=t==k||t||i);c!==g&&null!=(s=f[c]);c++){if(y&&s){for(a=0,t||s.ownerDocument==k||(x(s),n=!w);o=_[a++];)if(o(s,t||k,n)){r.push(s);break}i&&(T=p)}v&&((s=!o&&s)&&d--,e&&l.push(s))}if(d+=c,v&&c!==d){for(a=0;o=m[a++];)o(l,h,t,n);if(e){if(0<d)for(;c--;)l[c]||h[c]||(h[c]=Y.call(r));h=be(h)}N.apply(r,h),i&&!e&&0<h.length&&1<d+m.length&&E.uniqueSort(r)}return i&&(T=p,j=u),l}var v=0<m.length,y=0<_.length;return v?D(e):e}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,f=E.tokenize=function(e,t){var n,r,i,s,a,o,d,c=K[e+" "];if(c)return t?0:c.slice(0);for(a=e,o=[],d=b.preFilter;a;){for(s in n&&!(r=te.exec(a))||(r&&(a=a.slice(r[0].length)||a),o.push(i=[])),n=!1,(r=ne.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(m," ")}),a=a.slice(n.length)),b.filter)!(r=y[s].exec(a))||d[s]&&!(r=d[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?E.error(e):K(e,o).slice(0)},R=E.compile=function(e,t){var n,r=[],i=[],s=z[e+" "];if(!s){for(n=(t=t||f(e)).length;n--;)((s=function e(t){for(var r,n,i,s=t.length,a=b.relative[t[0].type],o=a||b.relative[" "],d=a?1:0,c=ve(function(e){return e===r},o,!0),l=ve(function(e){return-1<v(r,e)},o,!0),h=[function(e,t,n){return e=!a&&(n||t!==j)||((r=t).nodeType?c:l)(e,t,n),r=null,e}];d<s;d++)if(n=b.relative[t[d].type])h=[ve(ye(h),n)];else{if((n=b.filter[t[d].type].apply(null,t[d].matches))[C]){for(i=++d;i<s&&!b.relative[t[i].type];i++);return je(1<d&&ye(h),1<d&&P(t.slice(0,d-1).concat({value:" "===t[d-2].type?"*":""})).replace(m,"$1"),n,d<i&&e(t.slice(d,i)),i<s&&e(t=t.slice(i)),i<s&&P(t))}h.push(n)}return ye(h)}(t[n]))[C]?r:i).push(s);(s=z(e,xe(i,r))).selector=e}return s},$=E.select=function(e,t,n,r){var i,s,a,o,d,c="function"==typeof e&&e,l=!r&&f(e=c.selector||e);if(n=n||[],1===l.length){if(2<(s=l[0]=l[0].slice(0)).length&&"ID"===(a=s[0]).type&&9===t.nodeType&&w&&b.relative[s[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(S,h),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=y.needsContext.test(e)?0:s.length;i--&&(a=s[i],!b.relative[o=a.type]);)if((d=b.find[o])&&(r=d(a.matches[0].replace(S,h),le.test(s[0].type)&&_e(t.parentNode)||t))){if(s.splice(i,1),e=r.length&&P(s))break;return N.apply(n,r),n}}return(c||R(e,l))(r,t,!w,n,!t||le.test(e)&&_e(t.parentNode)||t),n},u.sortStable=C.split("").sort(X).join("")===C,u.detectDuplicates=!!c,x(),u.sortDetached=L(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),L(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),u.attributes&&L(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),L(function(e){return null==e.getAttribute("disabled")})||fe(G,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),E}(j),V=(k.find=e,k.expr=e.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=e.uniqueSort,k.text=e.getText,k.isXMLDoc=e.isXML,k.contains=e.contains,k.escapeSelector=e.escape,k.expr.match.needsContext);function d(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var G=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(e,n,r){return v(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<R.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(Q(this,e||[],!1))},not:function(e){return this.pushStack(Q(this,e||[],!0))},is:function(e){return!!Q(this,"string"==typeof e&&V.test(e)?k(e):e||[],!1).length}});var Z,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=((k.fn.init=function(e,t,n){if(!e)return this;if(n=n||Z,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ee.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),G.test(r[1])&&k.isPlainObject(t))for(var r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(n=x.getElementById(r[2]))&&(this[0]=n,this.length=1),this}).prototype=k.fn,Z=k(x),/^(?:parents|prev(?:Until|All))/),ne={children:!0,contents:!0,next:!0,prev:!0};function re(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],a="string"!=typeof e&&k(e);if(!V.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(1<s.length?k.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?R.call(k(e),this[0]):R.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return r(e,"parentNode")},parentsUntil:function(e,t,n){return r(e,"parentNode",n)},next:function(e){return re(e,"nextSibling")},prev:function(e){return re(e,"previousSibling")},nextAll:function(e){return r(e,"nextSibling")},prevAll:function(e){return r(e,"previousSibling")},nextUntil:function(e,t,n){return r(e,"nextSibling",n)},prevUntil:function(e,t,n){return r(e,"previousSibling",n)},siblings:function(e){return J((e.parentNode||{}).firstChild,e)},children:function(e){return J(e.firstChild)},contents:function(e){return null!=e.contentDocument&&F(e.contentDocument)?e.contentDocument:(d(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(ne[r]||k.uniqueSort(n),te.test(r)&&n.reverse()),this.pushStack(n)}});var w=/[^\x20\t\r\n\f]+/g;function l(e){return e}function ie(e){throw e}function se(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(w)||[],function(e,t){n[t]=!0}),n):k.extend({},r);function i(){for(o=o||r.once,a=s=!0;c.length;l=-1)for(t=c.shift();++l<d.length;)!1===d[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=d.length,t=!1);r.memory||(t=!1),s=!1,o&&(d=t?[]:"")}var s,t,a,o,d=[],c=[],l=-1,h={add:function(){return d&&(t&&!s&&(l=d.length-1,c.push(t)),function n(e){k.each(e,function(e,t){v(t)?r.unique&&h.has(t)||d.push(t):t&&t.length&&"string"!==p(t)&&n(t)})}(arguments),t&&!s&&i()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,d,n));)d.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,d):0<d.length},empty:function(){return d=d&&[],this},disable:function(){return o=c=[],d=t="",this},disabled:function(){return!d},lock:function(){return o=c=[],t||s||(d=t=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),s||i()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},k.extend({Deferred:function(e){var s=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(s,function(e,t){var n=v(i[t[4]])&&i[t[4]];o[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var d=0;function c(i,s,a,o){return function(){function e(){var e,t;if(!(i<d)){if((e=a.apply(n,r))===s.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?o?t.call(e,c(d,s,l,o),c(d,s,ie,o)):(d++,t.call(e,c(d,s,l,o),c(d,s,ie,o),c(d,s,l,s.notifyWith))):(a!==l&&(n=void 0,r=[e]),(o||s.resolveWith)(n,r))}}var n=this,r=arguments,t=o?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),d<=i+1&&(a!==ie&&(n=void 0,r=[e]),s.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),j.setTimeout(t))}}return k.Deferred(function(e){s[0][3].add(c(0,e,v(r)?r:l,e.notifyWith)),s[1][3].add(c(0,e,v(t)?t:l)),s[2][3].add(c(0,e,v(n)?n:ie))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},o={};return k.each(s,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},s[3-e][2].disable,s[3-e][3].disable,s[0][2].lock,s[0][3].lock),n.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=n.fireWith}),a.promise(o),e&&e.call(o,o),o},when:function(e){function t(t){return function(e){i[t]=this,s[t]=1<arguments.length?o.call(arguments):e,--n||a.resolveWith(i,s)}}var n=arguments.length,r=n,i=Array(r),s=o.call(arguments),a=k.Deferred();if(n<=1&&(se(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||v(s[r]&&s[r].then)))return a.then();for(;r--;)se(s[r],t(r),a.reject);return a.promise()}});var ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,oe=(k.Deferred.exceptionHook=function(e,t){j.console&&j.console.warn&&e&&ae.test(e.name)&&j.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){j.setTimeout(function(){throw e})},k.Deferred());function de(){x.removeEventListener("DOMContentLoaded",de),j.removeEventListener("load",de),k.ready()}k.fn.ready=function(e){return oe.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||oe.resolveWith(x,[k])}}),k.ready.then=oe.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?j.setTimeout(k.ready):(x.addEventListener("DOMContentLoaded",de),j.addEventListener("load",de));function h(e,t,n,r,i,s,a){var o=0,d=e.length,c=null==n;if("object"===p(n))for(o in i=!0,n)h(e,t,o,n[o],!0,s,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),t=c?a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(k(e),n)}):t))for(;o<d;o++)t(e[o],n,a?r:r.call(e[o],o,t(e[o],n)));return i?e:c?t.call(e):d?t(e[0],n):s}var ce=/^-ms-/,le=/-([a-z])/g;function he(e,t){return t.toUpperCase()}function y(e){return e.replace(ce,"ms-").replace(le,he)}function m(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function ue(){this.expando=k.expando+ue.uid++}ue.uid=1,ue.prototype={cache:function(e){var t=e[this.expando];return t||(t={},m(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[y(t)]=n;else for(r in t)i[y(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(y):(t=y(t))in r?[t]:t.match(w)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var b=new ue,c=new ue,fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pe=/[A-Z]/g;function ge(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(pe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:fe.test(i)?JSON.parse(i):i)}catch(e){}c.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return c.hasData(e)||b.hasData(e)},data:function(e,t,n){return c.access(e,t,n)},removeData:function(e,t){c.remove(e,t)},_data:function(e,t,n){return b.access(e,t,n)},_removeData:function(e,t){b.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,s=this[0],a=s&&s.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){c.set(this,n)}):h(this,function(e){var t;if(s&&void 0===e)return void 0!==(t=c.get(s,n))||void 0!==(t=ge(s,n))?t:void 0;this.each(function(){c.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=c.get(s),1===s.nodeType&&!b.get(s,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=y(r.slice(5)),ge(s,r,i[r]));b.set(s,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){c.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return r=b.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=b.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),s=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,function(){k.dequeue(e,t)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b.get(e,n)||b.access(e,n,{empty:k.Callbacks("once memory").add(function(){b.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||s.resolveWith(a,[a])}var r,i=1,s=k.Deferred(),a=this,o=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=b.get(a[o],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),s.promise(t)}});function _e(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&T(e)&&"none"===k.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,me=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),u=["Top","Right","Bottom","Left"],C=x.documentElement,T=function(e){return k.contains(e.ownerDocument,e)},ve={composed:!0};C.getRootNode&&(T=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});function ye(e,t,n,r){var i,s,a=20,o=r?function(){return r.cur()}:function(){return k.css(e,t,"")},d=o(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+d)&&me.exec(k.css(e,t));if(l&&l[3]!==c){for(c=c||l[3],l=+(d/=2)||1;a--;)k.style(e,t,l+c),(1-s)*(1-(s=o()/d||.5))<=0&&(a=0),l/=s;k.style(e,t,(l*=2)+c),n=n||[]}return n&&(l=+l||+d||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var be={};function N(e,t){for(var n,r,i,s,a,o=[],d=0,c=e.length;d<c;d++)(r=e[d]).style&&(n=r.style.display,t?("none"===n&&(o[d]=b.get(r,"display")||null,o[d]||(r.style.display="")),""===r.style.display&&_e(r)&&(o[d]=(a=s=void 0,s=(i=r).ownerDocument,i=i.nodeName,(a=be[i])||(s=s.body.appendChild(s.createElement(i)),a=k.css(s,"display"),s.parentNode.removeChild(s),be[i]=a="none"===a?"block":a)))):"none"!==n&&(o[d]="none",b.set(r,"display",n)));for(d=0;d<c;d++)null!=o[d]&&(e[d].style.display=o[d]);return e}k.fn.extend({show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_e(this)?k(this).show():k(this).hide()})}});var je=/^(?:checkbox|radio)$/i,xe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ke=/^$|^module$|\/(?:java|ecma)script/i,A=(D=x.createDocumentFragment().appendChild(x.createElement("div")),(a=x.createElement("input")).setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),D.appendChild(a),_.checkClone=D.cloneNode(!0).cloneNode(!0).lastChild.checked,D.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!D.cloneNode(!0).lastChild.defaultValue,D.innerHTML="<option></option>",_.option=!!D.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function S(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&d(e,t)?k.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)b.set(e[n],"globalEval",!t||b.get(t[n],"globalEval"))}A.tbody=A.tfoot=A.colgroup=A.caption=A.thead,A.th=A.td,_.option||(A.optgroup=A.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function Te(e,t,n,r,i){for(var s,a,o,d,c,l=t.createDocumentFragment(),h=[],u=0,f=e.length;u<f;u++)if((s=e[u])||0===s)if("object"===p(s))k.merge(h,s.nodeType?[s]:s);else if(Ce.test(s)){for(a=a||l.appendChild(t.createElement("div")),o=(xe.exec(s)||["",""])[1].toLowerCase(),o=A[o]||A._default,a.innerHTML=o[1]+k.htmlPrefilter(s)+o[2],c=o[0];c--;)a=a.lastChild;k.merge(h,a.childNodes),(a=l.firstChild).textContent=""}else h.push(t.createTextNode(s));for(l.textContent="",u=0;s=h[u++];)if(r&&-1<k.inArray(s,r))i&&i.push(s);else if(d=T(s),a=S(l.appendChild(s),"script"),d&&we(a),n)for(c=0;s=a[c++];)ke.test(s.type||"")&&n.push(s);return l}var Ne=/^([^.]*)(?:\.(.+)|)/;function n(){return!0}function f(){return!1}function Ae(e,t){return e===function(){try{return x.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,r,i,s){var a,o;if("object"==typeof t){for(o in"string"!=typeof n&&(r=r||n,n=void 0),t)Se(e,o,n,r,t[o],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=f;else if(!i)return e;return 1===s&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function Ee(e,i,s){s?(b.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=b.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=o.call(arguments),b.set(this,i,r),t=s(this,i),this[i](),r!==(n=b.get(this,i))||t?b.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(b.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===b.get(e,i)&&k.event.add(e,i,n)}k.event={global:{},add:function(t,e,n,r,i){var s,a,o,d,c,l,h,u,f,p=b.get(t);if(m(t))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&k.find.matchesSelector(C,i),n.guid||(n.guid=k.guid++),(o=p.events)||(o=p.events=Object.create(null)),(a=p.handle)||(a=p.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),d=(e=(e||"").match(w)||[""]).length;d--;)h=f=(u=Ne.exec(e[d])||[])[1],u=(u[2]||"").split(".").sort(),h&&(c=k.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=k.event.special[h]||{},f=k.extend({type:h,origType:f,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:u.join(".")},s),(l=o[h])||((l=o[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,u,a)||t.addEventListener&&t.addEventListener(h,a)),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?l.splice(l.delegateCount++,0,f):l.push(f),k.event.global[h]=!0)},remove:function(e,t,n,r,i){var s,a,o,d,c,l,h,u,f,p,g,_=b.hasData(e)&&b.get(e);if(_&&(d=_.events)){for(c=(t=(t||"").match(w)||[""]).length;c--;)if(f=g=(o=Ne.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},u=d[f=(r?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=u.length;s--;)l=u[s],!i&&g!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(u.splice(s,1),l.selector&&u.delegateCount--,h.remove&&h.remove.call(e,l));a&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,_.handle)||k.removeEvent(e,f,_.handle),delete d[f])}else for(f in d)k.event.remove(e,f+t[c],n,r,!0);k.isEmptyObject(d)&&b.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,s,a=new Array(arguments.length),o=k.event.fix(e),e=(b.get(this,"events")||Object.create(null))[o.type]||[],d=k.event.special[o.type]||{};for(a[0]=o,t=1;t<arguments.length;t++)a[t]=arguments[t];if(o.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,o)){for(s=k.event.handlers.call(this,o,e),t=0;(r=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!1!==i.namespace&&!o.rnamespace.test(i.namespace)||(o.handleObj=i,o.data=i.data,void 0!==(i=((k.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,r,i,s,a,o=[],d=t.delegateCount,c=e.target;if(d&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],a={},n=0;n<d;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(c):k.find(i,this,null,[c]).length),a[i]&&s.push(r);s.length&&o.push({elem:c,handlers:s})}return c=this,d<t.length&&o.push({elem:c,handlers:t.slice(d)}),o},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return je.test(e.type)&&e.click&&d(e,"input")&&Ee(e,"click",n),!1},trigger:function(e){e=this||e;return je.test(e.type)&&e.click&&d(e,"input")&&Ee(e,"click"),!0},_default:function(e){e=e.target;return je.test(e.type)&&e.click&&d(e,"input")&&b.get(e,"click")||d(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?n:f,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=n,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=n,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=n,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return Ee(this,e,Ae),!1},trigger:function(){return Ee(this,e),!0},_default:function(){return!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=f),this.each(function(){k.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Oe=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return d(e,"table")&&d(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,s;if(1===t.nodeType){if(b.hasData(e)&&(s=b.get(e).events))for(i in b.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)k.event.add(t,i,s[i][n]);c.hasData(e)&&(e=c.access(e),e=k.extend({},e),c.set(t,e))}}function E(n,r,i,s){r=M(r);var e,t,a,o,d,c,l=0,h=n.length,u=h-1,f=r[0],p=v(f);if(p||1<h&&"string"==typeof f&&!_.checkClone&&De.test(f))return n.each(function(e){var t=n.eq(e);p&&(r[0]=f.call(this,e,t.html())),E(t,r,i,s)});if(h&&(t=(e=Te(r,n[0].ownerDocument,!1,n,s)).firstChild,1===e.childNodes.length&&(e=t),t||s)){for(o=(a=k.map(S(e,"script"),Pe)).length;l<h;l++)d=e,l!==u&&(d=k.clone(d,!0,!0),o&&k.merge(a,S(d,"script"))),i.call(n[l],d,l);if(o)for(c=a[a.length-1].ownerDocument,k.map(a,He),l=0;l<o;l++)d=a[l],ke.test(d.type||"")&&!b.access(d,"globalEval")&&k.contains(c,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?k._evalUrl&&!d.noModule&&k._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")},c):U(d.textContent.replace(Le,""),d,c))}return n}function Me(e,t,n){for(var r,i=t?k.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||k.cleanData(S(r)),r.parentNode&&(n&&T(r)&&we(S(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,s,a,o,d,c,l=e.cloneNode(!0),h=T(e);if(!(_.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=S(l),r=0,i=(s=S(e)).length;r<i;r++)o=s[r],d=a[r],c=void 0,"input"===(c=d.nodeName.toLowerCase())&&je.test(o.type)?d.checked=o.checked:"input"!==c&&"textarea"!==c||(d.defaultValue=o.defaultValue);if(t)if(n)for(s=s||S(e),a=a||S(l),r=0,i=s.length;r<i;r++)Fe(s[r],a[r]);else Fe(e,l);return 0<(a=S(l,"script")).length&&we(a,!h&&S(e,"script")),l},cleanData:function(e){for(var t,n,r,i=k.event.special,s=0;void 0!==(n=e[s]);s++)if(m(n)){if(t=n[b.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[b.expando]=void 0}n[c.expando]&&(n[c.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return h(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return E(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=qe(this,e)).insertBefore(e,t.firstChild)})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(S(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return h(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!A[(xe.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(S(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return E(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(S(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,s=0;s<=i;s++)t=s===i?this:this.clone(!0),k(r[s])[a](t),I.apply(n,t.get());return this.pushStack(n)}});function Ie(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:j).getComputedStyle(e)}function Re(e,t,n){var r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=i[r];return n}var $e,We,Be,Ke,ze,Xe,Ue,i,Ye=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Je=new RegExp(u.join("|"),"i");function Ve(){var e;i&&(Ue.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",i.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",C.appendChild(Ue).appendChild(i),e=j.getComputedStyle(i),$e="1%"!==e.top,Xe=12===Ge(e.marginLeft),i.style.right="60%",Ke=36===Ge(e.right),We=36===Ge(e.width),i.style.position="absolute",Be=12===Ge(i.offsetWidth/3),C.removeChild(Ue),i=null)}function Ge(e){return Math.round(parseFloat(e))}function Qe(e,t,n){var r,i,s=e.style;return(n=n||Ie(e))&&(""!==(i=n.getPropertyValue(t)||n[t])||T(e)||(i=k.style(e,t)),!_.pixelBoxStyles()&&Ye.test(i)&&Je.test(t)&&(e=s.width,t=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=e,s.minWidth=t,s.maxWidth=r)),void 0!==i?i+"":i}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Ue=x.createElement("div"),(i=x.createElement("div")).style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===i.style.backgroundClip,k.extend(_,{boxSizingReliable:function(){return Ve(),We},pixelBoxStyles:function(){return Ve(),Ke},pixelPosition:function(){return Ve(),$e},reliableMarginLeft:function(){return Ve(),Xe},scrollboxSize:function(){return Ve(),Be},reliableTrDimensions:function(){var e,t,n;return null==ze&&(e=x.createElement("table"),t=x.createElement("tr"),n=x.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",C.appendChild(e).appendChild(t).appendChild(n),n=j.getComputedStyle(t),ze=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,C.removeChild(e)),ze}}));var et=["Webkit","Moz","ms"],tt=x.createElement("div").style,nt={};function rt(e){var t=k.cssProps[e]||nt[e];return t||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,st=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function dt(e,t,n){var r=me.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,i,s){var a="width"===t?1:0,o=0,d=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(d+=k.css(e,n+u[a],!0,i)),r?("content"===n&&(d-=k.css(e,"padding"+u[a],!0,i)),"margin"!==n&&(d-=k.css(e,"border"+u[a]+"Width",!0,i))):(d+=k.css(e,"padding"+u[a],!0,i),"padding"!==n?d+=k.css(e,"border"+u[a]+"Width",!0,i):o+=k.css(e,"border"+u[a]+"Width",!0,i));return!r&&0<=s&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-d-o-.5))||0),d}function lt(e,t,n){var r=Ie(e),i=(!_.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),s=i,a=Qe(e,t,r),o="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(a)){if(!n)return a;a="auto"}return(!_.boxSizingReliable()&&i||!_.reliableTrDimensions()&&d(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(s=o in e)&&(a=e[o])),(a=parseFloat(a)||0)+ct(e,t,n||(i?"border":"content"),s,r,a)+"px"}function s(e,t,n,r,i){return new s.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=Qe(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,a,o=y(t),d=st.test(t),c=e.style;if(d||(t=rt(o)),a=k.cssHooks[t]||k.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(s=typeof n)&&(i=me.exec(n))&&i[1]&&(n=ye(e,t,i),s="number"),null!=n&&n==n&&("number"!==s||d||(n+=i&&i[3]||(k.cssNumber[o]?"":"px")),_.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(d?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,s=y(t);return st.test(t)||(t=rt(s)),"normal"===(i=void 0===(i=(s=k.cssHooks[t]||k.cssHooks[s])&&"get"in s?s.get(e,!0,n):i)?Qe(e,t,r):i)&&t in ot&&(i=ot[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),k.each(["height","width"],function(e,a){k.cssHooks[a]={get:function(e,t,n){if(t)return!it.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,a,n):Re(e,at,function(){return lt(e,a,n)})},set:function(e,t,n){var r=Ie(e),i=!_.scrollboxSize()&&"absolute"===r.position,s=(i||n)&&"border-box"===k.css(e,"boxSizing",!1,r),n=n?ct(e,a,n,s,r):0;return s&&i&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(r[a])-ct(e,a,"border",!1,r)-.5)),n&&(s=me.exec(t))&&"px"!==(s[3]||"px")&&(e.style[a]=t,t=k.css(e,a)),dt(0,t,n)}}}),k.cssHooks.marginLeft=Ze(_.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,s){k.cssHooks[i+s]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+u[t]+s]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+s].set=dt)}),k.fn.extend({css:function(e,t){return h(this,function(e,t,n){var r,i,s={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++)s[t[a]]=k.css(e,t[a],!1,r);return s}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=s).prototype={constructor:s,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(k.cssNumber[n]?"":"px")},cur:function(){var e=s.propHooks[this.prop];return(e&&e.get?e:s.propHooks._default).get(this)},run:function(e){var t,n=s.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:s.propHooks._default).set(this),this}}).init.prototype=s.prototype,(s.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=k.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=s.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=s.prototype.init,k.fx.step={};var O,ht,a,D,ut=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function pt(){ht&&(!1===x.hidden&&j.requestAnimationFrame?j.requestAnimationFrame(pt):j.setTimeout(pt,k.fx.interval),k.fx.tick())}function gt(){return j.setTimeout(function(){O=void 0}),O=Date.now()}function _t(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=u[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function mt(e,t,n){for(var r,i=(L.tweeners[t]||[]).concat(L.tweeners["*"]),s=0,a=i.length;s<a;s++)if(r=i[s].call(n,t,e))return r}function L(i,e,t){var n,s,r,a,o,d,c,l=0,h=L.prefilters.length,u=k.Deferred().always(function(){delete f.elem}),f=function(){if(s)return!1;for(var e=O||gt(),e=Math.max(0,p.startTime+p.duration-e),t=1-(e/p.duration||0),n=0,r=p.tweens.length;n<r;n++)p.tweens[n].run(t);return u.notifyWith(i,[p,t,e]),t<1&&r?e:(r||u.notifyWith(i,[p,1,0]),u.resolveWith(i,[p]),!1)},p=u.promise({elem:i,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:O||gt(),duration:t.duration,tweens:[],createTween:function(e,t){t=k.Tween(i,p.opts,e,t,p.opts.specialEasing[e]||p.opts.easing);return p.tweens.push(t),t},stop:function(e){var t=0,n=e?p.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)p.tweens[t].run(1);return e?(u.notifyWith(i,[p,1,0]),u.resolveWith(i,[p,e])):u.rejectWith(i,[p,e]),this}}),g=p.props,_=g,m=p.opts.specialEasing;for(r in _)if(o=m[a=y(r)],d=_[r],Array.isArray(d)&&(o=d[1],d=_[r]=d[0]),r!==a&&(_[a]=d,delete _[r]),(c=k.cssHooks[a])&&"expand"in c)for(r in d=c.expand(d),delete _[a],d)r in _||(_[r]=d[r],m[r]=o);else m[a]=o;for(;l<h;l++)if(n=L.prefilters[l].call(p,i,g,p.opts))return v(n.stop)&&(k._queueHooks(p.elem,p.opts.queue).stop=n.stop.bind(n)),n;return k.map(g,mt,p),v(p.opts.start)&&p.opts.start.call(i,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),k.fx.timer(k.extend(f,{elem:i,anim:p,queue:p.opts.queue})),p}k.Animation=k.extend(L,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,me.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=v(e)?(t=e,["*"]):e.match(w)).length;r<i;r++)n=e[r],L.tweeners[n]=L.tweeners[n]||[],L.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,s,a,o,d,c,l="width"in t||"height"in t,h=this,u={},f=e.style,p=e.nodeType&&_e(e),g=b.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ut.test(i)){if(delete t[r],s=s||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}u[r]=g&&g[r]||k.style(e,r)}if((d=!k.isEmptyObject(t))||!k.isEmptyObject(u))for(r in l&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=b.get(e,"display")),"none"===(l=k.css(e,"display"))&&(c?l=c:(N([e],!0),c=e.style.display||c,l=k.css(e,"display"),N([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===k.css(e,"float")&&(d||(h.done(function(){f.display=c}),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),d=!1,u)d||(g?"hidden"in g&&(p=g.hidden):g=b.access(e,"fxshow",{display:c}),s&&(g.hidden=!p),p&&N([e],!0),h.done(function(){for(r in p||N([e]),b.remove(e,"fxshow"),u)k.style(e,r,u[r])})),d=mt(p?g[r]:0,r,h),r in g||(g[r]=d.start,p&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?L.prefilters.unshift(e):L.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=L(this,k.extend({},t),a);(s||b.get(this,"finish"))&&e.stop(!0)}var s=k.isEmptyObject(t),a=k.speed(e,n,r);return i.finish=i,s||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(i,e,s){function a(e){var t=e.stop;delete e.stop,t(s)}return"string"!=typeof i&&(s=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=b.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ft.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=b.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,s=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(_t(r,!0),e,t,n)}}),k.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(O=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),O=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ht||(ht=!0,pt())},k.fx.stop=function(){ht=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=j.setTimeout(e,r);t.stop=function(){j.clearTimeout(n)}})},a=x.createElement("input"),D=x.createElement("select").appendChild(x.createElement("option")),a.type="checkbox",_.checkOn=""!==a.value,_.optSelected=D.selected,(a=x.createElement("input")).value="t",a.type="radio",_.radioValue="t"===a.value;var vt,yt=k.expr.attrHandle,bt=(k.fn.extend({attr:function(e,t){return h(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?k.prop(e,t,n):(1===s&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){var n;if(!_.radioValue&&"radio"===t&&d(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(w);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=yt[t]||k.find.attr;yt[t]=function(e,t,n){var r,i,s=t.toLowerCase();return n||(i=yt[s],yt[s]=r,r=null!=a(e,t,n)?s:null,yt[s]=i),r}}),/^(?:input|select|textarea|button)$/i),jt=/^(?:a|area)$/i;function q(e){return(e.match(w)||[]).join(" ")}function P(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(w)||[]}k.fn.extend({prop:function(e,t){return h(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(k.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,s,a,o=0;if(v(t))return this.each(function(e){k(this).addClass(t.call(this,e,P(this)))});if((e=xt(t)).length)for(;n=this[o++];)if(a=P(n),r=1===n.nodeType&&" "+q(a)+" "){for(s=0;i=e[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(a=q(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,s,a,o=0;if(v(t))return this.each(function(e){k(this).removeClass(t.call(this,e,P(this)))});if(!arguments.length)return this.attr("class","");if((e=xt(t)).length)for(;n=this[o++];)if(a=P(n),r=1===n.nodeType&&" "+q(a)+" "){for(s=0;i=e[s++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a!==(a=q(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,t){var s=typeof i,a="string"==s||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):v(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,P(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=xt(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=s||((e=P(this))&&b.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&b.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+q(P(t))+" ").indexOf(r))return!0;return!1}});function kt(e){e.stopPropagation()}var wt=/\r/g,Ct=(k.fn.extend({val:function(t){var n,e,r,i=this[0];return arguments.length?(r=v(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,k(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=k.map(e,function(e){return null==e?"":e+""})),(n=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):i?(n=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(i,"value"))?e:"string"==typeof(e=i.value)?e.replace(wt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:q(k.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,i="select-one"===e.type,s=i?null:[],a=i?r+1:n.length,o=r<0?a:i?r:0;o<a;o++)if(((t=n[o]).selected||o===r)&&!t.disabled&&(!t.parentNode.disabled||!d(t.parentNode,"optgroup"))){if(t=k(t).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,s=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),s))&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},_.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_.focusin="onfocusin"in j,/^(?:focusinfocus|focusoutblur)$/),Tt=(k.extend(k.event,{trigger:function(e,t,n,r){var i,s,a,o,d,c,l,h=[n||x],u=B.call(e,"type")?e.type:e,f=B.call(e,"namespace")?e.namespace.split("."):[],p=l=s=n=n||x;if(3!==n.nodeType&&8!==n.nodeType&&!Ct.test(u+k.event.triggered)&&(-1<u.indexOf(".")&&(u=(f=u.split(".")).shift(),f.sort()),o=u.indexOf(":")<0&&"on"+u,(e=e[k.expando]?e:new k.Event(u,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[u]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!g(n)){for(a=c.delegateType||u,Ct.test(a+u)||(p=p.parentNode);p;p=p.parentNode)h.push(p),s=p;s===(n.ownerDocument||x)&&h.push(s.defaultView||s.parentWindow||j)}for(i=0;(p=h[i++])&&!e.isPropagationStopped();)l=p,e.type=1<i?a:c.bindType||u,(d=(b.get(p,"events")||Object.create(null))[e.type]&&b.get(p,"handle"))&&d.apply(p,t),(d=o&&p[o])&&d.apply&&m(p)&&(e.result=d.apply(p,t),!1===e.result&&e.preventDefault());return e.type=u,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),t)||!m(n)||o&&v(n[u])&&!g(n)&&((s=n[o])&&(n[o]=null),k.event.triggered=u,e.isPropagationStopped()&&l.addEventListener(u,kt),n[u](),e.isPropagationStopped()&&l.removeEventListener(u,kt),k.event.triggered=void 0,s&&(n[o]=s)),e.result}},simulate:function(e,t,n){n=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(n,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),_.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){k.event.simulate(r,e.target,k.event.fix(e))}k.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=b.access(e,r);t||e.addEventListener(n,i,!0),b.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=b.access(e,r)-1;t?b.access(e,r,t):(e.removeEventListener(n,i,!0),b.remove(e,r))}}}),j.location),Nt={guid:Date.now()},At=/\?/,St=(k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new j.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/\[\]$/),Et=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){function n(e,t){t=v(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,i,s){if(Array.isArray(e))k.each(e,function(e,t){i||St.test(r)?s(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,s)});else if(i||"object"!==p(e))s(r,e);else for(var t in e)n(r+"["+t+"]",e[t],i,s)}(r,e[r],t,n);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Dt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Lt=/%20/g,qt=/#.*$/,Pt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Rt={},$t="*/".concat("*"),Wt=x.createElement("a");function Bt(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(w)||[];if(v(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(s[n]=s[n]||[]).unshift(t)):(s[n]=s[n]||[]).push(t)}}function Kt(t,r,i,s){var a={},o=t===Rt;function d(e){var n;return a[e]=!0,k.each(t[e]||[],function(e,t){t=t(r,i,s);return"string"!=typeof t||o||a[t]?o?!(n=t):void 0:(r.dataTypes.unshift(t),d(t),!1)}),n}return d(r.dataTypes[0])||!a["*"]&&d("*")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&k.extend(!0,e,r),e}Wt.href=Tt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Rt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var d,c,l,n,h,u,f,r,p=k.ajaxSetup({},t=t||{}),g=p.context||p,_=p.context&&(g.nodeType||g.jquery)?k(g):k.event,m=k.Deferred(),v=k.Callbacks("once memory"),y=p.statusCode||{},i={},s={},a="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(u){if(!n)for(n={};t=Ht.exec(l);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?l:null},setRequestHeader:function(e,t){return null==u&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){if(e)if(u)b.always(e[b.status]);else for(var t in e)y[t]=[y[t],e[t]];return this},abort:function(e){e=e||a;return d&&d.abort(e),o(0,e),this}};if(m.promise(b),p.url=((e||p.url||Tt.href)+"").replace(Mt,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain){e=x.createElement("a");try{e.href=p.url,e.href=e.href,p.crossDomain=Wt.protocol+"//"+Wt.host!=e.protocol+"//"+e.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),Kt(It,p,t,b),u)return b;for(r in(f=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ft.test(p.type),c=p.url.replace(qt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Lt,"+")):(e=p.url.slice(c.length),p.data&&(p.processData||"string"==typeof p.data)&&(c+=(At.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(c=c.replace(Pt,"$1"),e=(At.test(c)?"&":"?")+"_="+Nt.guid+++e),p.url=c+e),p.ifModified&&(k.lastModified[c]&&b.setRequestHeader("If-Modified-Since",k.lastModified[c]),k.etag[c]&&b.setRequestHeader("If-None-Match",k.etag[c])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&b.setRequestHeader("Content-Type",p.contentType),b.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+$t+"; q=0.01":""):p.accepts["*"]),p.headers)b.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(!1===p.beforeSend.call(g,b,p)||u))return b.abort();if(a="abort",v.add(p.complete),b.done(p.success),b.fail(p.error),d=Kt(Rt,p,t,b)){if(b.readyState=1,f&&_.trigger("ajaxSend",[b,p]),u)return b;p.async&&0<p.timeout&&(h=j.setTimeout(function(){b.abort("timeout")},p.timeout));try{u=!1,d.send(i,o)}catch(e){if(u)throw e;o(-1,e)}}else o(-1,"No Transport");function o(e,t,n,r){var i,s,a,o=t;u||(u=!0,h&&j.clearTimeout(h),d=void 0,l=r||"",b.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var r,i,s,a,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){d.unshift(i);break}if(d[0]in n)s=d[0];else{for(i in n){if(!d[0]||e.converters[i+" "+d[0]]){s=i;break}a=a||i}s=s||a}if(s)return s!==d[0]&&d.unshift(s),n[s]}(p,b,n)),!r&&-1<k.inArray("script",p.dataTypes)&&k.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),a=function(e,t,n,r){var i,s,a,o,d,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=l.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!d&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=s,s=l.shift())if("*"===s)s=d;else if("*"!==d&&d!==s){if(!(a=c[d+" "+s]||c["* "+s]))for(i in c)if((o=i.split(" "))[1]===s&&(a=c[d+" "+o[0]]||c["* "+o[0]])){!0===a?a=c[i]:!0!==c[i]&&(s=o[0],l.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+d+" to "+s}}}return{state:"success",data:t}}(p,a,b,r),r?(p.ifModified&&((n=b.getResponseHeader("Last-Modified"))&&(k.lastModified[c]=n),(n=b.getResponseHeader("etag"))&&(k.etag[c]=n)),204===e||"HEAD"===p.type?o="nocontent":304===e?o="notmodified":(o=a.state,i=a.data,r=!(s=a.error))):(s=o,!e&&o||(o="error",e<0&&(e=0))),b.status=e,b.statusText=(t||o)+"",r?m.resolveWith(g,[i,o,b]):m.rejectWith(g,[b,o,s]),b.statusCode(y),y=void 0,f&&_.trigger(r?"ajaxSuccess":"ajaxError",[b,p,r?i:s]),v.fireWith(g,[b,o]),f&&(_.trigger("ajaxComplete",[b,p]),--k.active||k.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new j.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Ut=k.ajaxSettings.xhr(),Yt=(_.cors=!!Ut&&"withCredentials"in Ut,_.ajax=Ut=!!Ut,k.ajaxTransport(function(i){var s,a;if(_.cors||Ut&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);s=function(e){return function(){s&&(s=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Xt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=s(),a=r.onerror=r.ontimeout=s("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&j.setTimeout(function(){s&&a()})},s=s("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(s)throw e}},abort:function(){s&&s()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),x.head.appendChild(r[0])},abort:function(){i&&i()}}}),[]),Jt=/(=)\?(?=&|$)|\?\?/,Vt=(k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||k.expando+"_"+Nt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,a=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Jt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||k.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=j[r],j[r]=function(){s=arguments},n.always(function(){void 0===i?k(j).removeProp(r):j[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),s&&v(i)&&i(s[0]),s=i=void 0}),"script"}),_.createHTMLDocument=((e=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(_.createHTMLDocument?((r=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(r)):t=x),r=!n&&[],(n=G.exec(e))?[t.createElement(n[1])]:(n=Te([e],t,r),r&&r.length&&k(r).remove(),k.merge([],n.childNodes)));var r},k.fn.load=function(e,t,n){var r,i,s,a=this,o=e.indexOf(" ");return-1<o&&(r=q(e.slice(o)),e=e.slice(0,o)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,s,a,o=k.css(e,"position"),d=k(e),c={};"static"===o&&(e.style.position="relative"),s=d.offset(),r=k.css(e,"top"),a=k.css(e,"left"),o=("absolute"===o||"fixed"===o)&&-1<(r+a).indexOf("auto")?(i=(o=d.position()).top,o.left):(i=parseFloat(r)||0,parseFloat(a)||0),null!=(t=v(t)?t.call(e,n,k.extend({},s)):t).top&&(c.top=t.top-s.top+i),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):d.css(c)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||C})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var s="pageYOffset"===i;k.fn[t]=function(e){return h(this,function(e,t,n){var r;if(g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(s?r.pageXOffset:n,s?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Ze(_.pixelPosition,function(e,t){if(t)return t=Qe(e,n),Ye.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,o){k.each({padding:"inner"+a,content:o,"":"outer"+a},function(r,s){k.fn[s]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return h(this,function(e,t,n){var r;return g(e)?0===s.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},o,n?e:void 0,n)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g),Gt=(k.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),v(e))return n=o.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(o.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=d,k.isFunction=v,k.isWindow=g,k.camelCase=y,k.type=p,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Vt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k}),j.jQuery),Qt=j.$;return k.noConflict=function(e){return j.$===k&&(j.$=Qt),e&&j.jQuery===k&&(j.jQuery=Gt),k},void 0===H&&(j.jQuery=j.$=k),k}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(O,D){"use strict";if(!O.jstree){var l,h,u,i,s,f,p,r,a=0,o=!1,d=!1,c=!1,n=[],e=O("script:last").attr("src"),v=window.document,g=window.setImmediate,_=window.Promise,m=(!g&&_&&(g=function(e,t){_.resolve(t).then(e)}),O.jstree={version:"3.3.12",defaults:{plugins:[]},plugins:{},path:e&&-1!==e.indexOf("/")?e.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},O.jstree.create=function(e,n){var r=new O.jstree.core(++a),t=n;return n=O.extend(!0,{},O.jstree.defaults,n),t&&t.plugins&&(n.plugins=t.plugins),O.each(n.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,n[t]))}),O(e).data("jstree",r),r.init(e,n),r},O.jstree.destroy=function(){O(".jstree:jstree").jstree("destroy"),O(v).off(".jstree")},O.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},O.jstree.reference=function(t){var n=null,e=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!e||!e.length)try{e=O(t)}catch(e){}if(!e||!e.length)try{e=O("#"+t.replace(O.jstree.idregex,"\\$&"))}catch(e){}return e&&e.length&&(e=e.closest(".jstree")).length&&(e=e.data("jstree"))?n=e:O(".jstree").each(function(){var e=O(this).data("jstree");if(e&&e._model.data[t])return n=e,!1}),n},O.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),s=null;return!(!0===n&&!this.length)&&(this.each(function(){var e=O.jstree.reference(this),t=r&&e?e[n]:null;if(s=r&&t?t.apply(e,i):null,e||r||n!==D&&!O.isPlainObject(n)||O.jstree.create(this,n),null!==(s=e&&!r||!0===n?e||!1:s)&&s!==D)return!1}),null!==s&&s!==D?s:this)},O.expr.pseudos.jstree=O.expr.createPseudo(function(e){return function(e){return O(e).hasClass("jstree")&&O(e).data("jstree")!==D}}),O.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:O.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(e){e.type="click",O(e.currentTarget).trigger(e)},enter:function(e){e.type="click",O(e.currentTarget).trigger(e)},left:function(e){e.preventDefault(),this.is_open(e.currentTarget)?this.close_node(e.currentTarget):(e=this.get_parent(e.currentTarget))&&e.id!==O.jstree.root&&this.get_node(e,!0).children(".jstree-anchor").trigger("focus")},up:function(e){e.preventDefault();e=this.get_prev_dom(e.currentTarget);e&&e.length&&e.children(".jstree-anchor").trigger("focus")},right:function(e){e.preventDefault(),this.is_closed(e.currentTarget)?this.open_node(e.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").trigger("focus")}):this.is_open(e.currentTarget)&&(e=this.get_node(e.currentTarget,!0).children(".jstree-children")[0])&&O(this._firstChild(e)).children(".jstree-anchor").trigger("focus")},down:function(e){e.preventDefault();e=this.get_next_dom(e.currentTarget);e&&e.length&&e.children(".jstree-anchor").trigger("focus")},"*":function(e){this.open_all()},home:function(e){e.preventDefault();e=this._firstChild(this.get_container_ul()[0]);e&&O(e).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},O.jstree.core.prototype={plugin:function(e,t){var n=O.jstree.plugins[e];return n?(this._data[e]={},n.prototype=this,new n(t,this)):this},init:function(e,t){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[O.jstree.root]={id:O.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=O(e).addClass("jstree jstree-"+this._id),this.settings=t,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(O.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=v.createElement("LI");return n.setAttribute("role","none"),(e=v.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=v.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),e.setAttribute("role","treeitem"),(t=v.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];if(e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),"shift-shift"===(t=t.sort().join("-").toLowerCase())||"ctrl-ctrl"===t||"alt-alt"===t)return null;var n,r,i=this.settings.core.keyboard;for(n in i)if(i.hasOwnProperty(n)&&(r="-"!==(r=n)&&"+"!==r?(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase():r)===t)return i[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var i="",s=null,t=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(v.selection&&v.selection.empty)v.selection.empty();else if(window.getSelection){e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(e){}}}).on("mousedown.jstree",function(e){e.target===this.element[0]&&(e.preventDefault(),t=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",function(e){this.toggle_node(e.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(e){e.preventDefault(),e.currentTarget!==v.activeElement&&O(e.currentTarget).trigger("focus"),this.activate_node(e.currentTarget,e)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){t=t.call(this,e);if(!1===t||!0===t)return t}}.bind(this)).on("load_node.jstree",function(e,t){t.status&&(t.node.id!==O.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var e=[],t=0,n=this._data.core.selected.length;t<n;t++)e=e.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(e=O.vakata.array_unique(e)).length;t<n;t++)this.open_node(e[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;s&&clearTimeout(s),s=setTimeout(function(){i=""},500);var n=String.fromCharCode(e.which).toLowerCase(),e=this.element.find(".jstree-anchor").filter(":visible"),t=e.index(v.activeElement)||0,r=!1;if(1<(i+=n).length){if(e.slice(t).each(function(e,t){if(0===O(t).text().toLowerCase().indexOf(i))return O(t).trigger("focus"),!(r=!0)}.bind(this)),r)return;if(e.slice(0,t).each(function(e,t){if(0===O(t).text().toLowerCase().indexOf(i))return O(t).trigger("focus"),!(r=!0)}.bind(this)),r)return}new RegExp("^"+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(i)&&(e.slice(t+1).each(function(e,t){if(O(t).text().toLowerCase().charAt(0)===n)return O(t).trigger("focus"),!(r=!0)}.bind(this)),r||e.slice(0,t+1).each(function(e,t){if(O(t).text().toLowerCase().charAt(0)===n)return O(t).trigger("focus"),!(r=!0)}.bind(this)))}.bind(this)).on("init.jstree",function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(e){this._data.core.focused=null,O(e.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")}.bind(this)).on("focus.jstree",".jstree-anchor",function(e){var t=this.get_node(e.currentTarget);t&&t.id&&(this._data.core.focused=t.id),this.element.find(".jstree-hovered").not(e.currentTarget).trigger("mouseleave"),O(e.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")}.bind(this)).on("focus.jstree",function(){var e;500<+new Date-t&&!this._data.core.focused&&this.settings.core.restore_focus&&(t=0,(e=this.get_node(this.element.attr("aria-activedescendant"),!0))&&e.find("> .jstree-anchor").trigger("focus"))}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(e){this.hover_node(e.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(e){this.dehover_node(e.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree"),O(v).off(".jstree-"+this._id)},trigger:function(e,t){((t=t||{}).instance=this).element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var t=this.settings.core.strings;return O.vakata.is_function(t)?t.call(this,e):t&&t[e]?t[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(e,t){var n;(e=e&&e.id?e.id:e)instanceof O&&e.length&&e[0].id&&(e=e[0].id);try{if(this._model.data[e])e=this._model.data[e];else if("string"==typeof e&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if("string"==typeof e&&(n=O("#"+e.replace(O.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=this.element.find(e)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=this.element.find(e)).length||!n.hasClass("jstree"))return!1;e=this._model.data[O.jstree.root]}return e=t?e.id===O.jstree.root?this.element:O("#"+e.id.replace(O.jstree.idregex,"\\$&"),this.element):e}catch(e){return!1}},get_path:function(e,t,n){if(!(e=e.parents?e:this.get_node(e))||e.id===O.jstree.root||!e.parents)return!1;var r,i,s=[];for(s.push(n?e.id:e.text),r=0,i=e.parents.length;r<i;r++)s.push(n?e.parents[r]:this.get_text(e.parents[r]));return s=s.reverse().slice(1),t?s.join(t):s},get_next_dom:function(e,t){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&O(n)}if(!e||!e.length)return!1;if(t){for(n=e[0];(n=this._nextSibling(n))&&0===n.offsetHeight;);return!!n&&O(n)}if(e.hasClass("jstree-open")){for(n=this._firstChild(e.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return O(n)}for(n=e[0];(n=this._nextSibling(n))&&0===n.offsetHeight;);return null!==n?O(n):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,t){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&O(n)}if(!e||!e.length)return!1;if(t){for(n=e[0];(n=this._previousSibling(n))&&0===n.offsetHeight;);return!!n&&O(n)}for(n=e[0];(n=this._previousSibling(n))&&0===n.offsetHeight;);if(null===n)return!(!(n=e[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&O(n);for(e=O(n);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e},get_parent:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||0<e.children.length)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(a,o){var e,t,n,r,i;if(O.vakata.is_array(a))return this._load_nodes(a.slice(),o),!0;if(!(a=this.get_node(a)))return o&&o.call(this,a,!1),!1;if(a.state.loaded){for(a.state.loaded=!1,n=0,r=a.parents.length;n<r;n++)this._model.data[a.parents[n]].children_d=O.vakata.array_filter(this._model.data[a.parents[n]].children_d,function(e){return-1===O.inArray(e,a.children_d)});for(e=0,t=a.children_d.length;e<t;e++)this._model.data[a.children_d[e]].state.selected&&(i=!0),delete this._model.data[a.children_d[e]];i&&(this._data.core.selected=O.vakata.array_filter(this._data.core.selected,function(e){return-1===O.inArray(e,a.children_d)})),a.children=[],a.children_d=[],i&&this.trigger("changed",{action:"load_node",node:a,selected:this._data.core.selected})}return a.state.failed=!1,a.state.loading=!0,this.get_node(a,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(a,function(e){(a=this._model.data[a.id]).state.loading=!1,a.state.loaded=e,a.state.failed=!a.state.loaded;for(var t=this.get_node(a,!0),n=0,r=this._model.data,i=!1,n=0,s=a.children.length;n<s;n++)if(r[a.children[n]]&&!r[a.children[n]].state.hidden){i=!0;break}a.state.loaded&&t&&t.length&&(t.removeClass("jstree-closed jstree-open jstree-leaf"),i?"#"!==a.id&&t.addClass(a.state.opened?"jstree-open":"jstree-closed"):t.addClass("jstree-leaf")),t.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:a,status:e}),o&&o.call(this,a,e)}.bind(this)),!0},_load_nodes:function(e,t,n,r){for(var i=!0,s=function(){this._load_nodes(e,t,!0)},a=this._model.data,o=[],d=0,c=e.length;d<c;d++)a[e[d]]&&(!a[e[d]].state.loaded&&!a[e[d]].state.failed||!n&&r)&&(this.is_loading(e[d])||this.load_node(e[d],s),i=!1);if(i){for(d=0,c=e.length;d<c;d++)a[e[d]]&&a[e[d]].state.loaded&&o.push(e[d]);t&&!t.done&&(t.call(this,o),t.done=!0)}},load_all:function(e,t){if(e=e||O.jstree.root,!(e=this.get_node(e)))return!1;var n,r,i=[],s=this._model.data,a=s[e.id].children_d;for(e.state&&!e.state.loaded&&i.push(e.id),n=0,r=a.length;n<r;n++)s[a[n]]&&s[a[n]].state&&!s[a[n]].state.loaded&&i.push(a[n]);i.length?this._load_nodes(i,function(){this.load_all(e,t)}):(t&&t.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(i,s){function a(){return 3!==this.nodeType&&8!==this.nodeType}var e,t=this.settings.core.data;return t?O.vakata.is_function(t)?t.call(this,i,function(e){!1===e?s.call(this,!1):this["string"==typeof e?"_append_html_data":"_append_json_data"](i,"string"==typeof e?O(O.parseHTML(e)).filter(a):e,function(e){s.call(this,e)})}.bind(this)):"object"==typeof t?t.url?(t=O.extend(!0,{},t),O.vakata.is_function(t.url)&&(t.url=t.url.call(this,i)),O.vakata.is_function(t.data)&&(t.data=t.data.call(this,i)),O.ajax(t).done(function(e,t,n){var r=n.getResponseHeader("Content-Type");return r&&-1!==r.indexOf("json")||"object"==typeof e?this._append_json_data(i,e,function(e){s.call(this,e)}):r&&-1!==r.indexOf("html")||"string"==typeof e?this._append_html_data(i,O(O.parseHTML(e)).filter(a),function(e){s.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:i.id,xhr:n})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))}.bind(this)).fail(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:i.id,xhr:e})},s.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(e=O.vakata.is_array(t)?O.extend(!0,[],t):O.isPlainObject(t)?O.extend(!0,{},t):t,i.id===O.jstree.root?this._append_json_data(i,e,function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:i.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))):"string"==typeof t?i.id===O.jstree.root?this._append_html_data(i,O(O.parseHTML(t)).filter(a),function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:i.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1)):s.call(this,!1):i.id===O.jstree.root?this._append_html_data(i,this._data.core.original_container_html.clone(!0),function(e){s.call(this,e)}):s.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&-1===O.inArray(e.id,this._model.changed)&&this._model.changed.push(e.id)},_append_html_data:function(e,t,n){(e=this.get_node(e)).children=[],e.children_d=[];var r,i,s,t=t.is("ul")?t.children():t,a=e.id,o=[],d=[],c=this._model.data,l=c[a],e=this._data.core.selected.length;for(t.each(function(e,t){(r=this._parse_model_from_html(O(t),a,l.parents.concat()))&&(o.push(r),d.push(r),c[r].children_d.length&&(d=d.concat(c[r].children_d)))}.bind(this)),l.children=o,l.children_d=d,i=0,s=l.parents.length;i<s;i++)c[l.parents[i]].children_d=c[l.parents[i]].children_d.concat(d);this.trigger("model",{nodes:d,parent:a}),a!==O.jstree.root?(this._node_changed(a),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==e&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(e,t,d,n){if(null!==this.element){(e=this.get_node(e)).children=[],e.children_d=[],t.d&&"string"==typeof(t=t.d)&&(t=JSON.parse(t)),O.vakata.is_array(t)||(t=[t]);var r=null,i={df:this._model.default_state,dat:t,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},v=this,s=function(e,c){function l(e,t,n){n=n?n.concat():[],t&&n.unshift(t);var r,i,s,a,o=e.id.toString(),d={id:o,text:e.text||"",icon:e.icon===c||e.icon,parent:t,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in f)f.hasOwnProperty(r)&&(d.state[r]=f[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==c&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(d.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(d.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(d.li_attr[r]=e.li_attr[r]);if(d.li_attr.id||(d.li_attr.id=o),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(d.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),r=0,i=(_[d.id]=d).children.length;r<i;r++)s=l(_[d.children[r]],d.id,n),a=_[s],d.children_d.push(s),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d));return delete e.data,delete e.children,_[d.id].original=e,d.state.selected&&u.push(d.id),d.id}function h(e,t,n){n=n?n.concat():[],t&&n.unshift(t);for(var r,i,s,a,o,d=!1;d="j"+p+"_"+ ++g,_[d];);for(r in o={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===c||e.icon,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},f)f.hasOwnProperty(r)&&(o.state[r]=f[r]);if(e&&e.id&&(o.id=e.id.toString()),e&&e.text&&(o.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(o.icon=e.data.jstree.icon),o.icon!==c&&null!==o.icon&&""!==o.icon||(o.icon=!0),e&&e.data&&(o.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(o.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(o.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(o.li_attr[r]=e.li_attr[r]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=d),o.li_attr.id||(o.li_attr.id=o.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(o.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,i=e.children.length;r<i;r++)s=h(e.children[r],o.id,n),a=_[s],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d));o.children_d=o.children_d.concat(o.children)}return e&&e.children&&!0===e.children&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete e.data,delete e.children,o.original=e,(_[o.id]=o).state.selected&&u.push(o.id),o.id}var t,n,r,i,s=(e=e.data?e.data:e).dat,a=e.par,o=[],d=[],u=[],f=e.df,p=e.t_id,g=e.t_cnt,_=e.m,m=_[a],e=e.sel;if(s.length&&s[0].id!==c&&s[0].parent!==c){for(n=0,r=s.length;n<r;n++)s[n].children||(s[n].children=[]),s[n].state||(s[n].state={}),_[s[n].id.toString()]=s[n];for(n=0,r=s.length;n<r;n++)_[s[n].parent.toString()]?(_[s[n].parent.toString()].children.push(s[n].id.toString()),m.children_d.push(s[n].id.toString())):void 0!==v&&(v._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[n].id.toString(),parent:s[n].parent.toString()})},v.settings.core.error.call(v,v._data.core.last_error));for(n=0,r=m.children.length;n<r;n++)t=l(_[m.children[n]],a,m.parents.concat()),d.push(t),_[t].children_d.length&&(d=d.concat(_[t].children_d));for(n=0,r=m.parents.length;n<r;n++)_[m.parents[n]].children_d=_[m.parents[n]].children_d.concat(d);i={cnt:g,mod:_,sel:e,par:a,dpc:d,add:u}}else{for(n=0,r=s.length;n<r;n++)(t=h(s[n],a,m.parents.concat()))&&(o.push(t),d.push(t),_[t].children_d.length&&(d=d.concat(_[t].children_d)));for(m.children=o,m.children_d=d,n=0,r=m.parents.length;n<r;n++)_[m.parents[n]].children_d=_[m.parents[n]].children_d.concat(d);i={cnt:g,mod:_,sel:e,par:a,dpc:d,add:u}}if("undefined"!=typeof window&&void 0!==window.document)return i;postMessage(i)},a=function(e,t){if(null!==this.element){for(var n in this._cnt=e.cnt,o=this._model.data)o.hasOwnProperty(n)&&o[n].state&&o[n].state.loading&&e.mod[n]&&(e.mod[n].state.loading=!0);if(this._model.data=e.mod,t){var r,i=e.add,s=e.sel,a=this._data.core.selected.slice(),o=this._model.data;if(s.length!==a.length||O.vakata.array_unique(s.concat(a)).length!==s.length){for(n=0,r=s.length;n<r;n++)-1===O.inArray(s[n],i)&&-1===O.inArray(s[n],a)&&(o[s[n]].state.selected=!1);for(n=0,r=a.length;n<r;n++)-1===O.inArray(a[n],s)&&(o[a[n]].state.selected=!0)}}e.add.length&&(this._data.core.selected=this._data.core.selected.concat(e.add)),this.trigger("model",{nodes:e.dpc,parent:e.par}),e.par!==O.jstree.root?(this._node_changed(e.par),this.redraw()):this.redraw(!0),e.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!t&&g?g(function(){d.call(v,!0)}):d.call(v,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||n?(this._data.core.working=!0,(r=new window.Worker(this._wrk)).onmessage=function(e){a.call(this,e.data,!0);try{r.terminate(),r=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),i.par?r.postMessage(i):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,t,d,!0])}catch(e){a.call(this,s(i),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else a.call(this,s(i),!1)}},_parse_model_from_html:function(e,t,n){n=n?[].concat(n):[],t&&n.unshift(t);var r,i,s,a,o=this._model.data,d={id:!1,text:!1,icon:!0,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(d.state[s]=this._model.default_state[s]);if(t=O.vakata.attributes(e,!0),O.each(t,function(e,t){if(!(t=O.vakata.trim(t)).length)return!0;d.li_attr[e]=t,"id"===e&&(d.id=t.toString())}),(t=e.children("a").first()).length&&(t=O.vakata.attributes(t,!0),O.each(t,function(e,t){(t=O.vakata.trim(t)).length&&(d.a_attr[e]=t)})),(t=(e.children("a").first().length?e.children("a").first():e).clone()).children("ins, i, ul").remove(),t=t.html(),t=O("<div></div>").html(t),d.text=this.settings.core.force_text?t.text():t.html(),t=e.data(),d.data=t?O.extend(!0,{},t):null,d.state.opened=e.hasClass("jstree-open"),d.state.selected=e.children("a").hasClass("jstree-clicked"),d.state.disabled=e.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(s in d.data.jstree)d.data.jstree.hasOwnProperty(s)&&(d.state[s]=d.data.jstree[s]);for((t=e.children("a").children(".jstree-themeicon")).length&&(d.icon=!t.hasClass("jstree-themeicon-hidden")&&t.attr("rel")),d.state.icon!==D&&(d.icon=d.state.icon),d.icon!==D&&null!==d.icon&&""!==d.icon||(d.icon=!0),t=e.children("ul").children("li");o[a="j"+this._id+"_"+ ++this._cnt];);return d.id=d.li_attr.id?d.li_attr.id.toString():a,t.length?(t.each(function(e,t){r=this._parse_model_from_html(O(t),d.id,n),i=this._model.data[r],d.children.push(r),i.children_d.length&&(d.children_d=d.children_d.concat(i.children_d))}.bind(this)),d.children_d=d.children_d.concat(d.children)):e.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr.class&&(d.li_attr.class=d.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),d.a_attr.class&&(d.a_attr.class=d.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(o[d.id]=d).state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);var r,i,s,a,o=e.id.toString(),d=this._model.data,c=this._model.default_state,l={id:o,text:e.text||"",icon:e.icon===D||e.icon,parent:t,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in c)c.hasOwnProperty(r)&&(l.state[r]=c[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==D&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id||(l.li_attr.id=o),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),r=0,i=(d[l.id]=l).children.length;r<i;r++)a=d[s=this._parse_model_from_flat_json(d[l.children[r]],l.id,n)],l.children_d.push(s),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));return delete e.data,delete e.children,d[l.id].original=e,l.state.selected&&this._data.core.selected.push(l.id),l.id},_parse_model_from_json:function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);for(var r,i,s,a,o,d=!1,c=this._model.data,l=this._model.default_state;c[d="j"+this._id+"_"+ ++this._cnt];);for(r in o={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===D||e.icon,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},l)l.hasOwnProperty(r)&&(o.state[r]=l[r]);if(e&&e.id&&(o.id=e.id.toString()),e&&e.text&&(o.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(o.icon=e.data.jstree.icon),o.icon!==D&&null!==o.icon&&""!==o.icon||(o.icon=!0),e&&e.data&&(o.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(o.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(o.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(o.li_attr[r]=e.li_attr[r]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=d),o.li_attr.id||(o.li_attr.id=o.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(o.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,i=e.children.length;r<i;r++)a=c[s=this._parse_model_from_json(e.children[r],o.id,n)],o.children.push(s),a.children_d.length&&(o.children_d=o.children_d.concat(a.children_d));o.children_d=o.children.concat(o.children_d)}return e&&e.children&&!0===e.children&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete e.data,delete e.children,o.original=e,(c[o.id]=o).state.selected&&this._data.core.selected.push(o.id),o.id},_redraw:function(){for(var e,t=(this._model.force_full_redraw?this._model.data[O.jstree.root].children:this._model.changed).concat([]),n=v.createElement("UL"),r=this._data.core.focused,i=0,s=t.length;i<s;i++)(e=this.redraw_node(t[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&n.appendChild(e);this._model.force_full_redraw&&(n.className=this.get_container_ul()[0].className,n.setAttribute("role","group"),this.element.empty().append(n)),null!==r&&this.settings.core.restore_focus&&((e=this.get_node(r,!0))&&e.length&&e.children(".jstree-anchor")[0]!==v.activeElement?e.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:t})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var t,n=this.get_node(e),r=!1,i=!1,s=v;if(!n)return!1;if(n.id===O.jstree.root)return this.redraw(!0);if(!(e=this.get_node(e,!0))||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],n.children.length&&n.state.loaded){for((i=s.createElement("UL")).setAttribute("role","group"),i.className="jstree-children",r=0,t=n.children.length;r<t;r++)i.appendChild(this.redraw_node(n.children[r],!0,!0));e.appendChild(i)}},redraw_node:function(e,t,n,r){var i=this.get_node(e),s=!1,a=!1,o=!1,d=!1,c=!1,l=!1,h="",u=v,f=this._model.data,p=!1,g=null,_=!1,m=!1;if(!i)return!1;if(i.id===O.jstree.root)return this.redraw(!0);if(t=t||0===i.children.length,e=v.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(i.id[0])?"\\3"+i.id[0]+" "+i.id.substr(1).replace(O.jstree.idregex,"\\$&"):i.id.replace(O.jstree.idregex,"\\$&"))):v.getElementById(i.id))e=O(e),n||((s=e.parent().parent()[0])===this.element[0]&&(s=null),a=e.index()),(t=t||!i.children.length||e.children(".jstree-children").length?t:!0)||(o=e.children(".jstree-children")[0]),p=e.children(".jstree-anchor")[0]===v.activeElement,e.remove();else if(t=!0,!n){if(!(null===(s=i.parent!==O.jstree.root?O("#"+i.parent.replace(O.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&f[i.parent].state.opened))return!1;a=O.inArray(i.id,(null===s?f[O.jstree.root]:f[i.parent]).children)}for(d in e=this._data.core.node.cloneNode(!0),h="jstree-node ",i.li_attr)i.li_attr.hasOwnProperty(d)&&"id"!==d&&("class"!==d?e.setAttribute(d,i.li_attr[d]):h+=i.li_attr[d]);for(i.a_attr.id||(i.a_attr.id=i.id+"_anchor"),e.childNodes[1].setAttribute("aria-selected",!!i.state.selected),e.childNodes[1].setAttribute("aria-level",i.parents.length),this.settings.core.compute_elements_positions&&(e.childNodes[1].setAttribute("aria-setsize",f[i.parent].children.length),e.childNodes[1].setAttribute("aria-posinset",f[i.parent].children.indexOf(i.id)+1)),i.state.disabled&&e.childNodes[1].setAttribute("aria-disabled",!0),d=0,c=i.children.length;d<c;d++)if(!f[i.children[d]].state.hidden){_=!0;break}if(null!==i.parent&&f[i.parent]&&!i.state.hidden&&(d=O.inArray(i.id,f[i.parent].children),m=i.id,-1!==d))for(d++,c=f[i.parent].children.length;d<c&&(m=f[f[i.parent].children[d]].state.hidden?m:f[i.parent].children[d])===i.id;d++);for(c in i.state.hidden&&(h+=" jstree-hidden"),i.state.loading&&(h+=" jstree-loading"),i.state.loaded&&!_?h+=" jstree-leaf":(h+=i.state.opened&&i.state.loaded?" jstree-open":" jstree-closed",e.childNodes[1].setAttribute("aria-expanded",i.state.opened&&i.state.loaded)),m===i.id&&(h+=" jstree-last"),e.id=i.id,e.className=h,h=(i.state.selected?" jstree-clicked":"")+(i.state.disabled?" jstree-disabled":""),i.a_attr)!i.a_attr.hasOwnProperty(c)||"href"===c&&"#"===i.a_attr[c]||("class"!==c?e.childNodes[1].setAttribute(c,i.a_attr[c]):h+=" "+i.a_attr[c]);if(h.length&&(e.childNodes[1].className="jstree-anchor "+h),(i.icon&&!0!==i.icon||!1===i.icon)&&(!1===i.icon?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===i.icon.indexOf("/")&&-1===i.icon.indexOf(".")?e.childNodes[1].childNodes[0].className+=" "+i.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+i.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(u.createTextNode(i.text)):e.childNodes[1].innerHTML+=i.text,t&&i.children.length&&(i.state.opened||r)&&i.state.loaded){for((l=u.createElement("UL")).setAttribute("role","group"),l.className="jstree-children",d=0,c=i.children.length;d<c;d++)l.appendChild(this.redraw_node(i.children[d],t,!0));e.appendChild(l)}if(o&&e.appendChild(o),!n){for(d=0,c=(s=s||this.element[0]).childNodes.length;d<c;d++)if(s.childNodes[d]&&s.childNodes[d].className&&-1!==s.childNodes[d].className.indexOf("jstree-children")){g=s.childNodes[d];break}g||((g=u.createElement("UL")).setAttribute("role","group"),g.className="jstree-children",s.appendChild(g)),a<(s=g).childNodes.length?s.insertBefore(e,s.childNodes[a]):s.appendChild(e),p&&(r=this.element[0].scrollTop,o=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=r,this.element[0].scrollLeft=o)}return i.state.opened&&!i.state.loaded&&(i.state.opened=!1,setTimeout(function(){this.open_node(i.id,!1,0)}.bind(this),0)),e},open_node:function(e,n,r){var t,i,s,a;if(O.vakata.is_array(e)){for(t=0,i=(e=e.slice()).length;t<i;t++)this.open_node(e[t],n,r);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(r=r===D?this.settings.core.animation:r,this.is_closed(e)?this.is_loaded(e)?(s=this.get_node(e,!0),a=this,s.length&&(r&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(e),r?(this.trigger("before_open",{node:e}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",a.element&&a.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].childNodes[1].setAttribute("aria-expanded",!0))),e.state.opened=!0,n&&n.call(this,e,!0),s.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),r&&s.length||this.trigger("after_open",{node:e}),!0):this.is_loading(e)?setTimeout(function(){this.open_node(e,n,r)}.bind(this),500):void this.load_node(e,function(e,t){return t?this.open_node(e,n,r):!!n&&n.call(this,e,!1)}):(n&&n.call(this,e,!1),!1))},_open_to:function(e){if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;for(var t=e.parents,n=0,r=t.length;n<r;n+=1)n!==O.jstree.root&&this.open_node(t[n],!1,0);return O("#"+e.id.replace(O.jstree.idregex,"\\$&"),this.element)},close_node:function(e,t){var n,r,i,s;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.close_node(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(!this.is_closed(e)&&(t=t===D?this.settings.core.animation:t,s=(i=this).get_node(e,!0),e.state.opened=!1,this.trigger("close_node",{node:e}),void(s.length?t?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(t,function(){this.style.display="",s.children(".jstree-children").remove(),i.element&&i.trigger("after_close",{node:e})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.children(".jstree-anchor").attr("aria-expanded",!1),s.children(".jstree-children").remove(),this.trigger("after_close",{node:e})):this.trigger("after_close",{node:e}))))},toggle_node:function(e){var t,n;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.toggle_node(e[t]);return!0}return this.is_closed(e)?this.open_node(e):this.is_open(e)?this.close_node(e):void 0},open_all:function(e,n,r){if(e=e||O.jstree.root,!(e=this.get_node(e)))return!1;var t,i,s,a=e.id===O.jstree.root?this.get_container_ul():this.get_node(e,!0);if(!a.length){for(t=0,i=e.children_d.length;t<i;t++)this.is_closed(this._model.data[e.children_d[t]])&&(this._model.data[e.children_d[t]].state.opened=!0);return this.trigger("open_all",{node:e})}r=r||a,(a=(s=this).is_closed(e)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each(function(){s.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)},n||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(e,t){if(e=e||O.jstree.root,!(e=this.get_node(e)))return!1;var n,r,i=e.id===O.jstree.root?this.get_container_ul():this.get_node(e,!0),s=this;for(i.length&&(i=this.is_open(e)?i.find(".jstree-open").addBack():i.find(".jstree-open"),O(i.get().reverse()).each(function(){s.close_node(this,t||0)})),n=0,r=e.children_d.length;n<r;n++)this._model.data[e.children_d[n]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(e){var t,n;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.enable_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var t,n;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.disable_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(e,t){var n,r;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.hide_node(e[n],!0);return t||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),t||this.redraw(),this.trigger("hide_node",{node:e}))},show_node:function(e,t){var n,r;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.show_node(e[n],!0);return t||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),t||this.redraw(),this.trigger("show_node",{node:e}))},hide_all:function(e){var t,n=this._model.data,r=[];for(t in n)n.hasOwnProperty(t)&&t!==O.jstree.root&&!n[t].state.hidden&&(n[t].state.hidden=!0,r.push(t));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(e){var t,n=this._model.data,r=[];for(t in n)n.hasOwnProperty(t)&&t!==O.jstree.root&&n[t].state.hidden&&(n[t].state.hidden=!1,r.push(t));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,t){if(this.is_disabled(e))return!1;if(t&&"object"==typeof t||(t={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==D?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&(!t.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(t.shiftKey){for(var n=this.get_node(e).id,r=this._data.core.last_clicked.id,i=this.get_node(this._data.core.last_clicked.parent).children,s=!1,a=0,o=i.length;a<o;a+=1)i[a]===n&&(s=!s),i[a]===r&&(s=!s),this.is_disabled(i[a])||!s&&i[a]!==n&&i[a]!==r?this.deselect_node(i[a],!0,t):this.is_hidden(i[a])||this.select_node(i[a],!0,!1,t);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:t})}else this.is_selected(e)?this.deselect_node(e,!1,t):this.select_node(e,!1,!1,t);else!this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,t):(this.deselect_all(!0),this.select_node(e,!1,!1,t),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:t})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,t,n,r){var i,s,a;if(O.vakata.is_array(e)){for(s=0,a=(e=e.slice()).length;s<a;s++)this.select_node(e[s],t,n,r);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;i=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),(i=n?i:this._open_to(e))&&i.length&&i.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:r}),t||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:r}))},deselect_node:function(e,t,n){var r,i,s;if(O.vakata.is_array(e)){for(r=0,i=(e=e.slice()).length;r<i;r++)this.deselect_node(e[r],t,n);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;s=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=O.vakata.array_remove_item(this._data.core.selected,e.id),s.length&&s.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:n}),t||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:n}))},select_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[O.jstree.root].children_d.concat(),t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){for(var t=this._data.core.selected.concat([]),n=0,r=this._data.core.selected.length;n<r;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:t}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:t})},is_selected:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.state.selected},get_selected:function(e){return e?O.map(this._data.core.selected,function(e){return this.get_node(e)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(e){for(var t,n,r=this.get_selected(!0),i={},s=0,a=r.length;s<a;s++)i[r[s].id]=r[s];for(s=0,a=r.length;s<a;s++)for(t=0,n=r[s].children_d.length;t<n;t++)i[r[s].children_d[t]]&&delete i[r[s].children_d[t]];for(s in r=[],i)i.hasOwnProperty(s)&&r.push(s);return e?O.map(r,function(e){return this.get_node(e)}.bind(this)):r},get_bottom_selected:function(e){for(var t=this.get_selected(!0),n=[],r=0,i=t.length;r<i;r++)t[r].children.length||n.push(t[r].id);return e?O.map(n,function(e){return this.get_node(e)}.bind(this)):n},get_state:function(){var e,t={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&e!==O.jstree.root&&(this._model.data[e].state.loaded&&this.settings.core.loaded_state&&t.core.loaded.push(e),this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected&&t.core.selected.push(e));return t},set_state:function(t,n){if(t){if(t.core&&t.core.selected&&t.core.initial_selection===D&&(t.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),t.core){var r,e;if(t.core.loaded)return this.settings.core.loaded_state&&O.vakata.is_array(t.core.loaded)&&t.core.loaded.length?this._load_nodes(t.core.loaded,function(e){delete t.core.loaded,this.set_state(t,n)}):(delete t.core.loaded,this.set_state(t,n)),!1;if(t.core.open)return O.vakata.is_array(t.core.open)&&t.core.open.length?this._load_nodes(t.core.open,function(e){this.open_node(e,!1,0),delete t.core.open,this.set_state(t,n)}):(delete t.core.open,this.set_state(t,n)),!1;if(t.core.scroll)return t.core.scroll&&t.core.scroll.left!==D&&this.element.scrollLeft(t.core.scroll.left),t.core.scroll&&t.core.scroll.top!==D&&this.element.scrollTop(t.core.scroll.top),delete t.core.scroll,this.set_state(t,n),!1;if(t.core.selected)return r=this,t.core.initial_selection!==D&&t.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),O.each(t.core.selected,function(e,t){r.select_node(t,!1,!0)})),delete t.core.initial_selection,delete t.core.selected,this.set_state(t,n),!1;for(e in t)t.hasOwnProperty(e)&&"core"!==e&&-1===O.inArray(e,this.settings.plugins)&&delete t[e];if(O.isEmptyObject(t.core))return delete t.core,this.set_state(t,n),!1}return O.isEmptyObject(t)?(t=null,n&&n.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(e,t){this._data.core.state=!0===t?{}:this.get_state(),t&&O.vakata.is_function(t)&&(this._data.core.state=t.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[O.jstree.root]={id:O.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(O.jstree.root,function(e,t){t&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(O.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===O.jstree.root)return!1;var n=[],e=[],r=this._data.core.selected.concat([]);e.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){e.push(this.id),n.push(this.id)}),this._load_nodes(e,function(e){this.open_node(n,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})}.bind(this),!1,!0)},set_id:function(e,t){if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;var n,r,i=this._model.data,s=e.id;for(t=t.toString(),i[e.parent].children[O.inArray(e.id,i[e.parent].children)]=t,n=0,r=e.parents.length;n<r;n++)i[e.parents[n]].children_d[O.inArray(e.id,i[e.parents[n]].children_d)]=t;for(n=0,r=e.children.length;n<r;n++)i[e.children[n]].parent=t;for(n=0,r=e.children_d.length;n<r;n++)i[e.children_d[n]].parents[O.inArray(e.id,i[e.children_d[n]].parents)]=t;return-1!==(n=O.inArray(e.id,this._data.core.selected))&&(this._data.core.selected[n]=t),(n=this.get_node(e.id,!0))&&(n.attr("id",t),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",t)),delete i[e.id],e.id=t,i[e.li_attr.id=t]=e,this.trigger("set_id",{node:e,new:e.id,old:s}),!0},get_text:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.text},set_text:function(e,t){var n,r;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.set_text(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(e.text=t,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:t}),!0)},get_json:function(e,t,n){if(!(e=this.get_node(e||O.jstree.root)))return!1;t&&t.flat&&!n&&(n=[]);var r,i,s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:O.extend(!0,{},e.li_attr),a_attr:O.extend(!0,{},e.a_attr),state:{},data:(!t||!t.no_data)&&O.extend(!0,O.vakata.is_array(e.data)?[]:{},e.data)};if(t&&t.flat?s.parent=e.parent:s.children=[],t&&t.no_state)delete s.state;else for(r in e.state)e.state.hasOwnProperty(r)&&(s.state[r]=e.state[r]);if(t&&t.no_li_attr&&delete s.li_attr,t&&t.no_a_attr&&delete s.a_attr,t&&t.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),t&&t.flat&&e.id!==O.jstree.root&&n.push(s),!t||!t.no_children)for(r=0,i=e.children.length;r<i;r++)t&&t.flat?this.get_json(e.children[r],t,n):s.children.push(this.get_json(e.children[r],t));return t&&t.flat?n:e.id===O.jstree.root?s.children:s},create_node:function(e,t,n,r,i){if(null===e&&(e=O.jstree.root),!(e=this.get_node(e)))return!1;if(!(n=n===D?"last":n).toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,n,r,!0)});var s,a,o,d;switch((t="string"==typeof(t=t||{text:this.get_string("New node")})?{text:t}:O.extend(!0,{},t)).text===D&&(t.text=this.get_string("New node")),n=e.id===O.jstree.root&&"after"===(n="before"===n?"first":n)?"last":n){case"before":s=this.get_node(e.parent),n=O.inArray(e.id,s.children),e=s;break;case"after":s=this.get_node(e.parent),n=O.inArray(e.id,s.children)+1,e=s;break;case"inside":case"first":n=0;break;case"last":n=e.children.length;break;default:n=n||0}if(n>e.children.length&&(n=e.children.length),t.id||(t.id=!0),!this.check("create_node",t,e,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===t.id&&delete t.id,!(t=this._parse_model_from_json(t,e.id,e.parents.concat())))return!1;for(s=this.get_node(t),(a=[]).push(t),a=a.concat(s.children_d),this.trigger("model",{nodes:a,parent:e.id}),e.children_d=e.children_d.concat(a),o=0,d=e.parents.length;o<d;o++)this._model.data[e.parents[o]].children_d=this._model.data[e.parents[o]].children_d.concat(a);for(t=s,s=[],o=0,d=e.children.length;o<d;o++)s[n<=o?o+1:o]=e.children[o];return s[n]=t.id,e.children=s,this.redraw_node(e,!0),this.trigger("create_node",{node:this.get_node(t),parent:e.id,position:n}),r&&r.call(this,this.get_node(t)),t.id},rename_node:function(e,t){var n,r,i;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.rename_node(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(i=e.text,this.check("rename_node",e,this.get_parent(e),t)?(this.set_text(e,t),this.trigger("rename_node",{node:e,text:t,old:i}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(e){var t,n,r,i,s,a,o,d,c,l,h;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.delete_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;if(r=this.get_node(e.parent),l=O.inArray(e.id,r.children),c=!1,!this.check("delete_node",e,r,l))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==l&&(r.children=O.vakata.array_remove(r.children,l)),(i=e.children_d.concat([])).push(e.id),s=0,a=e.parents.length;s<a;s++)this._model.data[e.parents[s]].children_d=O.vakata.array_filter(this._model.data[e.parents[s]].children_d,function(e){return-1===O.inArray(e,i)});for(o=0,d=i.length;o<d;o++)if(this._model.data[i[o]].state.selected){c=!0;break}for(c&&(this._data.core.selected=O.vakata.array_filter(this._data.core.selected,function(e){return-1===O.inArray(e,i)})),this.trigger("delete_node",{node:e,parent:r.id}),c&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:r.id}),o=0,d=i.length;o<d;o++)delete this._model.data[i[o]];return-1!==O.inArray(this._data.core.focused,i)&&(this._data.core.focused=null,l=this.element[0].scrollTop,h=this.element[0].scrollLeft,r.id===O.jstree.root?this._model.data[O.jstree.root].children[0]&&this.get_node(this._model.data[O.jstree.root].children[0],!0).children(".jstree-anchor").triger("focus"):this.get_node(r,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=l,this.element[0].scrollLeft=h),this.redraw_node(r,!0),!0},check:function(e,t,n,r,i){t=t&&t.id?t:this.get_node(t),n=n&&n.id?n:this.get_node(n);var s=e.match(/^move_node|copy_node|create_node$/i)?n:t,a=this.settings.core.check_callback;if("move_node"===e||"copy_node"===e){if(!(i&&i.is_multi||"move_node"!==e||O.inArray(t.id,n.children)!==r))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(!(i&&i.is_multi||t.id!==n.id&&("move_node"!==e||O.inArray(t.id,n.children)!==r)&&-1===O.inArray(n.id,t.children_d)))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})}return(s=s&&s.data?s.data:s)&&s.functions&&(!1===s.functions[e]||!0===s.functions[e])?(!1===s.functions[e]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s.functions[e]):!(!1===a||O.vakata.is_function(a)&&!1===a.call(this,e,t,n,r,i)||a&&!1===a[e])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})},last_error:function(){return this._data.core.last_error},move_node:function(e,t,n,r,i,s,a){var o,d,c,l,h,u,f,p,g,_,m,v,y,b;if(t=this.get_node(t),n=n===D?0:n,!t)return!1;if(!n.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(t))return this.load_node(t,function(){this.move_node(e,t,n,r,!0,!1,a)});if(O.vakata.is_array(e)){if(1!==e.length){for(o=0,d=e.length;o<d;o++)(g=this.move_node(e[o],t,n,r,i,!1,a))&&(t=g,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||e.id===O.jstree.root)return!1;if(c=(e.parent||O.jstree.root).toString(),h=n.toString().match(/^(before|after)$/)&&t.id!==O.jstree.root?this.get_node(t.parent):t,f=!(u=a||(this._model.data[e.id]?this:O.jstree.reference(e.id)))||!u._id||this._id!==u._id,l=u&&u._id&&c&&u._model.data[c]&&u._model.data[c].children?O.inArray(e.id,u._model.data[c].children):-1,u&&u._id&&(e=u._model.data[e.id]),f)return!!(g=this.copy_node(e,t,n,r,i,!1,a))&&(u&&u.delete_node(e),g);switch(n=t.id===O.jstree.root&&"after"===(n="before"===n?"first":n)?"last":n){case"before":n=O.inArray(t.id,h.children);break;case"after":n=O.inArray(t.id,h.children)+1;break;case"inside":case"first":n=0;break;case"last":n=h.children.length;break;default:n=n||0}if(n>h.children.length&&(n=h.children.length),!this.check("move_node",e,h,n,{core:!0,origin:a,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===h.id){for(p=h.children.concat(),-1!==(g=O.inArray(e.id,p))&&(p=O.vakata.array_remove(p,g),g<n&&n--),g=[],_=0,m=p.length;_<m;_++)g[n<=_?_+1:_]=p[_];g[n]=e.id,h.children=g,this._node_changed(h.id),this.redraw(h.id===O.jstree.root)}else{for((g=e.children_d.concat()).push(e.id),_=0,m=e.parents.length;_<m;_++){for(p=[],v=0,y=(b=u._model.data[e.parents[_]].children_d).length;v<y;v++)-1===O.inArray(b[v],g)&&p.push(b[v]);u._model.data[e.parents[_]].children_d=p}for(u._model.data[c].children=O.vakata.array_remove_item(u._model.data[c].children,e.id),_=0,m=h.parents.length;_<m;_++)this._model.data[h.parents[_]].children_d=this._model.data[h.parents[_]].children_d.concat(g);for(p=[],_=0,m=h.children.length;_<m;_++)p[n<=_?_+1:_]=h.children[_];for(p[n]=e.id,h.children=p,h.children_d.push(e.id),h.children_d=h.children_d.concat(e.children_d),e.parent=h.id,(g=h.parents.concat()).unshift(h.id),b=e.parents.length,g=(e.parents=g).concat(),_=0,m=e.children_d.length;_<m;_++)this._model.data[e.children_d[_]].parents=this._model.data[e.children_d[_]].parents.slice(0,-1*b),Array.prototype.push.apply(this._model.data[e.children_d[_]].parents,g);c!==O.jstree.root&&h.id!==O.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(c),this._node_changed(h.id)),s||this.redraw()}return r&&r.call(this,e,h,n),this.trigger("move_node",{node:e,parent:h.id,position:n,old_parent:c,old_position:l,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id,old_instance:u,new_instance:this}),e.id},copy_node:function(e,t,n,r,i,s,a){var o,d,c,l,h,u,f,p,g,_;if(t=this.get_node(t),n=n===D?0:n,!t)return!1;if(!n.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(t))return this.load_node(t,function(){this.copy_node(e,t,n,r,!0,!1,a)});if(O.vakata.is_array(e)){if(1!==e.length){for(o=0,d=e.length;o<d;o++)(l=this.copy_node(e[o],t,n,r,i,!0,a))&&(t=l,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||e.id===O.jstree.root)return!1;switch(p=(e.parent||O.jstree.root).toString(),g=n.toString().match(/^(before|after)$/)&&t.id!==O.jstree.root?this.get_node(t.parent):t,(_=a||(this._model.data[e.id]?this:O.jstree.reference(e.id)))&&_._id&&(this._id,_._id),_&&_._id&&(e=_._model.data[e.id]),n=t.id===O.jstree.root&&"after"===(n="before"===n?"first":n)?"last":n){case"before":n=O.inArray(t.id,g.children);break;case"after":n=O.inArray(t.id,g.children)+1;break;case"inside":case"first":n=0;break;case"last":n=g.children.length;break;default:n=n||0}if(n>g.children.length&&(n=g.children.length),!this.check("copy_node",e,g,n,{core:!0,origin:a,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(f=_?_.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e))return!1;if(!0===f.id&&delete f.id,!(f=this._parse_model_from_json(f,g.id,g.parents.concat())))return!1;for(l=this.get_node(f),e&&e.state&&!1===e.state.loaded&&(l.state.loaded=!1),(c=[]).push(f),c=c.concat(l.children_d),this.trigger("model",{nodes:c,parent:g.id}),h=0,u=g.parents.length;h<u;h++)this._model.data[g.parents[h]].children_d=this._model.data[g.parents[h]].children_d.concat(c);for(c=[],h=0,u=g.children.length;h<u;h++)c[n<=h?h+1:h]=g.children[h];return c[n]=l.id,g.children=c,g.children_d.push(l.id),g.children_d=g.children_d.concat(l.children_d),g.id===O.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(g.id),s||this.redraw(g.id===O.jstree.root),r&&r.call(this,l,g,n),this.trigger("copy_node",{node:l,original:e,parent:g.id,position:n,old_parent:p,old_position:_&&_._id&&p&&_._model.data[p]&&_._model.data[p].children?O.inArray(e.id,_._model.data[p].children):-1,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id,old_instance:_,new_instance:this}),l.id},cut:function(e){if(e=e||this._data.core.selected.concat(),!(e=O.vakata.is_array(e)?e:[e]).length)return!1;for(var t,n=[],r=0,i=e.length;r<i;r++)(t=this.get_node(e[r]))&&t.id&&t.id!==O.jstree.root&&n.push(t);if(!n.length)return!1;o=n,d="move_node",(c=this).trigger("cut",{node:e})},copy:function(e){if(e=e||this._data.core.selected.concat(),!(e=O.vakata.is_array(e)?e:[e]).length)return!1;for(var t,n=[],r=0,i=e.length;r<i;r++)(t=this.get_node(e[r]))&&t.id&&t.id!==O.jstree.root&&n.push(t);if(!n.length)return!1;o=n,d="copy_node",(c=this).trigger("copy",{node:e})},get_buffer:function(){return{mode:d,node:o,inst:c}},can_paste:function(){return!1!==d&&!1!==o},paste:function(e,t){if(!((e=this.get_node(e))&&d&&d.match(/^(copy_node|move_node)$/)&&o))return!1;this[d](o,e,t,!1,!1,!1,c)&&this.trigger("paste",{parent:e.id,node:o,mode:d}),c=d=o=!1},clear_buffer:function(){c=d=o=!1,this.trigger("clear_buffer")},edit:function(n,e,r){var t,i,s,a,o,d,c,l,h=!1;return!!(n=this.get_node(n))&&(this.check("edit",n,this.get_parent(n))?(l=n,e="string"==typeof e?e:n.text,this.set_text(n,""),n=this._open_to(n),l.text=e,t=this._data.core.rtl,i=this.element.width(),this._data.core.focused=l.id,s=n.children(".jstree-anchor").trigger("focus"),a=O("<span></span>"),o=e,d=O("<div></div>",{css:{position:"absolute",top:"-200px",left:t?"0px":"-1000px",visibility:"hidden"}}).appendTo(v.body),c=O("<input />",{value:o,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(e){e.stopImmediatePropagation(),e.preventDefault();var e=a.children(".jstree-rename-input").val(),t=this.settings.core.force_text;""===e&&(e=o),d.remove(),a.replaceWith(s),a.remove(),o=t?o:O("<div></div>").append(O.parseHTML(o)).html(),n=this.get_node(n),this.set_text(n,o),(t=!!this.rename_node(n,t?O("<div></div>").text(e).text():O("<div></div>").append(O.parseHTML(e)).html()))||this.set_text(n,o),this._data.core.focused=l.id,setTimeout(function(){var e=this.get_node(l.id,!0);e.length&&(this._data.core.focused=l.id,e.children(".jstree-anchor").trigger("focus"))}.bind(this),0),r&&r.call(this,l,t,h,e),c=null}.bind(this),keydown:function(e){var t=e.which;27===t&&(h=!0,this.value=o),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){c.width(Math.min(d.text("pW"+this.value).width(),i))},keypress:function(e){if(13===e.which)return!1}}),e={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},a.attr("class",s.attr("class")).append(s.contents().clone()).append(c),s.replaceWith(a),d.css(e),c.css(e).width(Math.min(d.text("pW"+c[0].value).width(),i))[0].select(),void O(v).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(e){c&&e.target!==c&&O(c).trigger("blur")})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(e,t){if(!e)return!1;(t=!0===t?(this.settings.core.themes.dir||O.jstree.path+"/themes")+"/"+e+"/style.css":t)&&-1===O.inArray(t,n)&&(O("head").append('<link rel="stylesheet" href="'+t+'" type="text/css" />'),n.push(t)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),(this._data.core.themes.variant=e)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(e,t){var n,r,i,s;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.set_icon(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(s=e.icon,e.icon=!0===t||null===t||t===D||""===t||t,i=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===t?(i.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(e)):(!0===t||null===t||t===D||""===t?i.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"):-1===t.indexOf("/")&&-1===t.indexOf(".")?(i.removeClass(s).css("background",""),i.addClass(t+" jstree-themeicon-custom").attr("rel",t)):(i.removeClass(s).css("background",""),i.addClass("jstree-themeicon-custom").css("background","url('"+t+"') center center no-repeat").attr("rel",t)),!1===s&&this.show_icon(e)),!0)},get_icon:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.icon},hide_icon:function(e){var t,n;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.hide_icon(e[t]);return!0}return!(!(e=this.get_node(e))||e===O.jstree.root)&&(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(e){var t,n,r;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.show_icon(e[t]);return!0}return!(!(e=this.get_node(e))||e===O.jstree.root)&&(r=this.get_node(e,!0),e.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),e.icon||(e.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},O.vakata={},O.vakata.attributes=function(e,n){e=O(e)[0];var r=n?{}:[];return e&&e.attributes&&O.each(e.attributes,function(e,t){-1===O.inArray(t.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==t.value&&""!==O.vakata.trim(t.value)&&(n?r[t.name]=t.value:r.push(t.name))}),r},O.vakata.array_unique=function(e){for(var t=[],n={},r=0,i=e.length;r<i;r++)n[e[r]]===D&&(t.push(e[r]),n[e[r]]=!0);return t},O.vakata.array_remove=function(e,t){return e.splice(t,1),e},O.vakata.array_remove_item=function(e,t){t=O.inArray(t,e);return-1!==t?O.vakata.array_remove(e,t):e},O.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);for(i in r=[],e)~~i+""==i+""&&0<=i&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},O.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},O.vakata.is_function=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},O.vakata.is_array=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Function.prototype.bind||(Function.prototype.bind=function(){var t=this,n=arguments[0],r=Array.prototype.slice.call(arguments,1);if("function"!=typeof t)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var e=r.concat(Array.prototype.slice.call(arguments));return t.apply(n,e)}}),O.jstree.plugins.changed=function(e,s){var a=[];this.trigger=function(e,t){if(t=t||{},"changed"===e.replace(".jstree","")){t.changed={selected:[],deselected:[]};for(var n={},r=0,i=a.length;r<i;r++)n[a[r]]=1;for(r=0,i=t.selected.length;r<i;r++)n[t.selected[r]]?n[t.selected[r]]=2:t.changed.selected.push(t.selected[r]);for(r=0,i=a.length;r<i;r++)1===n[a[r]]&&t.changed.deselected.push(a[r]);a=t.selected.slice()}s.trigger.call(this,e,t)},this.refresh=function(e,t){return a=[],s.refresh.apply(this,arguments)}},v.createElement("I")),y=(m.className="jstree-icon jstree-checkbox",m.setAttribute("role","presentation"),O.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},O.jstree.plugins.checkbox=function(e,d){this.bind=function(){d.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(e,t){for(var n=this._model.data,r=(n[t.parent],t.nodes),i=0,s=r.length;i<s;i++)n[r[i]].state.checked=n[r[i]].state.checked||n[r[i]].original&&n[r[i]].original.state&&n[r[i]].original.state.checked,n[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])}.bind(this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(e,t){var n,r,i,s,a,o,d=this._model.data,c=d[t.parent],l=t.nodes,h=[],t=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection;if(-1!==t.indexOf("down"))if(c.state[u?"selected":"checked"]){for(r=0,i=l.length;r<i;r++)d[l[r]].state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected=this._data[u?"core":"checkbox"].selected.concat(l)}else for(r=0,i=l.length;r<i;r++)if(d[l[r]].state[u?"selected":"checked"]){for(s=0,a=d[l[r]].children_d.length;s<a;s++)d[d[l[r]].children_d[s]].state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected=this._data[u?"core":"checkbox"].selected.concat(d[l[r]].children_d)}if(-1!==t.indexOf("up")){for(r=0,i=c.children_d.length;r<i;r++)d[c.children_d[r]].children.length||h.push(d[c.children_d[r]].parent);for(s=0,a=(h=O.vakata.array_unique(h)).length;s<a;s++)for(c=d[h[s]];c&&c.id!==O.jstree.root;){for(r=n=0,i=c.children.length;r<i;r++)n+=d[c.children[r]].state[u?"selected":"checked"];if(n!==i)break;c.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(c.id),(o=this.get_node(c,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[u?"core":"checkbox"].selected=O.vakata.array_unique(this._data[u?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(e,t){var n,r,t=t.node,i=this._model.data,s=this.get_node(t.parent),a=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,d={},c=this._data[o?"core":"checkbox"].selected;for(u=0,f=c.length;u<f;u++)d[c[u]]=!0;if(-1!==a.indexOf("down"))for(var l=this._cascade_new_checked_state(t.id,!0),h=t.children_d.concat(t.id),u=0,f=h.length;u<f;u++)-1<l.indexOf(h[u])?d[h[u]]=!0:delete d[h[u]];if(-1!==a.indexOf("up"))for(;s&&s.id!==O.jstree.root;){for(u=n=0,f=s.children.length;u<f;u++)n+=i[s.children[u]].state[o?"selected":"checked"];if(n!==f)break;s.state[o?"selected":"checked"]=!0,d[s.id]=!0,(r=this.get_node(s,!0))&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}for(u in c=[],d)d.hasOwnProperty(u)&&c.push(u);this._data[o?"core":"checkbox"].selected=c}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(e,t){for(var n,r=this.get_node(O.jstree.root),i=this._model.data,s=0,a=r.children_d.length;s<a;s++)(n=i[r.children_d[s]])&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(e,t){var n,r,i,s,a=t.node,t=(this.get_node(a,!0),this.settings.checkbox.cascade),o=this.settings.checkbox.tie_selection,d=this._data[o?"core":"checkbox"].selected,c=a.children_d.concat(a.id);if(-1!==t.indexOf("down")&&(s=this._cascade_new_checked_state(a.id,!1),d=O.vakata.array_filter(d,function(e){return-1===c.indexOf(e)||-1<s.indexOf(e)})),-1!==t.indexOf("up")&&-1===d.indexOf(a.id)){for(n=0,r=a.parents.length;n<r;n++)(i=this._model.data[a.parents[n]]).state[o?"selected":"checked"]=!1,i&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1),(i=this.get_node(a.parents[n],!0))&&i.length&&i.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked");d=O.vakata.array_filter(d,function(e){return-1===a.parents.indexOf(e)})}this._data[o?"core":"checkbox"].selected=d}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(e,t){for(var n,r,i,s,a=this.get_node(t.parent),o=this._model.data,d=this.settings.checkbox.tie_selection;a&&a.id!==O.jstree.root&&!a.state[d?"selected":"checked"];){for(n=i=0,r=a.children.length;n<r;n++)i+=o[a.children[n]].state[d?"selected":"checked"];if(!(0<r&&i===r))break;a.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(a.id),(s=this.get_node(a,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}}.bind(this)).on("move_node.jstree",function(e,t){var n,r,i,s,a,o=t.is_multi,d=t.old_parent,t=this.get_node(t.parent),c=this._model.data,l=this.settings.checkbox.tie_selection;if(!o)for(n=this.get_node(d);n&&n.id!==O.jstree.root&&!n.state[l?"selected":"checked"];){for(i=r=0,s=n.children.length;i<s;i++)r+=c[n.children[i]].state[l?"selected":"checked"];if(!(0<s&&r===s))break;n.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=t;n&&n.id!==O.jstree.root;){for(i=r=0,s=n.children.length;i<s;i++)r+=c[n.children[i]].state[l?"selected":"checked"];if(r===s)n.state[l?"selected":"checked"]||(n.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"));else{if(!n.state[l?"selected":"checked"])break;n.state[l?"selected":"checked"]=!1,this._data[l?"core":"checkbox"].selected=O.vakata.array_remove_item(this._data[l?"core":"checkbox"].selected,n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}}.bind(this))},this.get_undetermined=function(e){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];for(var n,r,i={},s=this._model.data,t=this.settings.checkbox.tie_selection,a=this._data[t?"core":"checkbox"].selected,o=[],d=this,c=[],l=0,h=a.length;l<h;l++)if(s[a[l]]&&s[a[l]].parents)for(n=0,r=s[a[l]].parents.length;n<r&&i[s[a[l]].parents[n]]===D;n++)s[a[l]].parents[n]!==O.jstree.root&&(i[s[a[l]].parents[n]]=!0,o.push(s[a[l]].parents[n]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e,t=d.get_node(this);if(t)if(t.state.loaded){for(l=0,h=t.children_d.length;l<h;l++)if(!(e=s[t.children_d[l]]).state.loaded&&e.original&&e.original.state&&e.original.state.undetermined&&!0===e.original.state.undetermined)for(i[e.id]===D&&e.id!==O.jstree.root&&(i[e.id]=!0,o.push(e.id)),n=0,r=e.parents.length;n<r;n++)i[e.parents[n]]===D&&e.parents[n]!==O.jstree.root&&(i[e.parents[n]]=!0,o.push(e.parents[n]))}else if(t.original&&t.original.state&&t.original.state.undetermined&&!0===t.original.state.undetermined)for(i[t.id]===D&&t.id!==O.jstree.root&&(i[t.id]=!0,o.push(t.id)),n=0,r=t.parents.length;n<r;n++)i[t.parents[n]]===D&&t.parents[n]!==O.jstree.root&&(i[t.parents[n]]=!0,o.push(t.parents[n]))}),l=0,h=o.length;l<h;l++)s[o[l]].state[t?"selected":"checked"]||c.push(e?s[o[l]]:o[l]);return c},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,n,r){if(e=d.redraw_node.apply(this,arguments)){for(var i=null,s=null,a=0,o=e.childNodes.length;a<o;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){i=e.childNodes[a];break}i&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(i.className+=" jstree-checked"),s=m.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(s.className+=" jstree-checkbox-disabled"),i.insertBefore(s,i.childNodes[0]))}return n||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(e){e=this.get_node(e);var t,n,r=this.settings.checkbox.cascade,i=this.settings.checkbox.tie_selection,s=this._data[i?"core":"checkbox"].selected,a=this._model.data;if(!e||!0===e.state[i?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!e.state.loaded&&!0===e.original.state.undetermined)return!0;for(t=0,n=e.children_d.length;t<n;t++)if(-1!==O.inArray(e.children_d[t],s)||!a[e.children_d[t]].state.loaded&&a[e.children_d[t]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(e){var t,n,r;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.disable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;r=this.get_node(e,!0),e.state.checkbox_disabled||(e.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:e}))},this.enable_checkbox=function(e){var t,n,r;if(O.vakata.is_array(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.enable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;r=this.get_node(e,!0),e.state.checkbox_disabled&&(e.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:e}))},this.activate_node=function(e,t){return!O(t.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||O(t.target).hasClass("jstree-checkbox"))&&(t.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!O(t.target).hasClass("jstree-checkbox")?d.activate_node.call(this,e,t):!this.is_disabled(e)&&(this.is_checked(e)?this.uncheck_node(e,t):this.check_node(e,t),void this.trigger("activate_node",{node:this.get_node(e)})))},this._cascade_new_checked_state=function(e,t){var n,r,i=this.settings.checkbox.tie_selection,s=this._model.data[e],a=[],o=[];if(!this.settings.checkbox.cascade_to_disabled&&s.state.disabled||!this.settings.checkbox.cascade_to_hidden&&s.state.hidden)c=this.get_checked_descendants(e),s.state[i?"selected":"checked"]&&c.push(s.id),a=a.concat(c);else{if(s.children)for(n=0,r=s.children.length;n<r;n++){var d=s.children[n],c=this._cascade_new_checked_state(d,t),a=a.concat(c);-1<c.indexOf(d)&&o.push(d)}var e=this.get_node(s,!0),l=0<o.length&&o.length<s.children.length;s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=l),!l&&t&&o.length===s.children.length?(s.state[i?"selected":"checked"]=t,a.push(s.id),e.attr("aria-selected",!0).children(".jstree-anchor").addClass(i?"jstree-clicked":"jstree-checked")):(s.state[i?"selected":"checked"]=!1,e.attr("aria-selected",!1).children(".jstree-anchor").removeClass(i?"jstree-clicked":"jstree-checked"))}return a},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection,e=t._model.data[e];return O.vakata.array_filter(e.children_d,function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.select_node(e,!1,!0,t);var n,r,i;if(O.vakata.is_array(e)){for(r=0,i=(e=e.slice()).length;r<i;r++)this.check_node(e[r],t);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;n=this.get_node(e,!0),e.state.checked||(e.state.checked=!0,this._data.checkbox.selected.push(e.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.uncheck_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.deselect_node(e,!1,t);var n,r,i;if(O.vakata.is_array(e)){for(n=0,r=(e=e.slice()).length;n<r;n++)this.uncheck_node(e[n],t);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;i=this.get_node(e,!0),e.state.checked&&(e.state.checked=!1,this._data.checkbox.selected=O.vakata.array_remove_item(this._data.checkbox.selected,e.id),i.length&&i.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,t;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[O.jstree.root].children_d.concat(),e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var e=this._data.checkbox.selected.concat([]),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:e})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.state.checked},this.get_checked=function(e){return this.settings.checkbox.tie_selection?this.get_selected(e):e?O.map(this._data.checkbox.selected,function(e){return this.get_node(e)}.bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_top_selected(e);for(var t,n,r=this.get_checked(!0),i={},s=0,a=r.length;s<a;s++)i[r[s].id]=r[s];for(s=0,a=r.length;s<a;s++)for(t=0,n=r[s].children_d.length;t<n;t++)i[r[s].children_d[t]]&&delete i[r[s].children_d[t]];for(s in r=[],i)i.hasOwnProperty(s)&&r.push(s);return e?O.map(r,function(e){return this.get_node(e)}.bind(this)):r},this.get_bottom_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(e);for(var t=this.get_checked(!0),n=[],r=0,i=t.length;r<i;r++)t[r].children.length||n.push(t[r].id);return e?O.map(n,function(e){return this.get_node(e)}.bind(this)):n},this.load_node=function(e,t){var n,r,i;if(!O.vakata.is_array(e)&&!this.settings.checkbox.tie_selection&&(i=this.get_node(e))&&i.state.loaded)for(n=0,r=i.children_d.length;n<r;n++)this._model.data[i.children_d[n]].state.checked&&(this._data.checkbox.selected=O.vakata.array_remove_item(this._data.checkbox.selected,i.children_d[n]));return d.load_node.apply(this,arguments)},this.get_state=function(){var e=d.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(e,t){var n,r=d.set_state.apply(this,arguments);return r&&e.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),n=this,O.each(e.checkbox,function(e,t){n.check_node(t)})),delete e.checkbox,this.set_state(e,t),!1):r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),d.refresh.apply(this,arguments)}},O.jstree.defaults.conditionalselect=function(){return!0},O.jstree.plugins.conditionalselect=function(e,n){this.activate_node=function(e,t){if(this.settings.conditionalselect.call(this,this.get_node(e),t))return n.activate_node.call(this,e,t)}},O.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,t){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var n=O.jstree.reference(e.reference),e=n.get_node(e.reference);n.create_node(e,{},"last",function(t){try{n.edit(t)}catch(e){setTimeout(function(){n.edit(t)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.edit(e)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.delete_node(t.get_selected()):t.delete_node(e)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.cut(t.get_top_selected()):t.cut(e)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.is_selected(e)?t.copy(t.get_top_selected()):t.copy(e)}},paste:{separator_before:!1,icon:!1,_disabled:function(e){return!O.jstree.reference(e.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var t=O.jstree.reference(e.reference),e=t.get_node(e.reference);t.paste(e)}}}}}}},O.jstree.plugins.contextmenu=function(e,s){this.bind=function(){s.bind.call(this);var t,n,r=0,i=null;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||i)&&(r=+new Date+1e4),i&&clearTimeout(i),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))}.bind(this)).on("click.jstree",".jstree-anchor",function(e){this._data.contextmenu.visible&&(!r||250<+new Date-r)&&O.vakata.context.hide(),r=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",function(e){e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].clientX,n=e.originalEvent.changedTouches[0].clientY,i=setTimeout(function(){O(e.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){i&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(10<Math.abs(t-e.originalEvent.changedTouches[0].clientX)||10<Math.abs(n-e.originalEvent.changedTouches[0].clientY))&&(clearTimeout(i),O.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){i&&clearTimeout(i)}),O(v).on("context_hide.vakata.jstree",function(e,t){this._data.contextmenu.visible=!1,O(t.reference).removeClass("jstree-context")}.bind(this))},this.teardown=function(){this._data.contextmenu.visible&&O.vakata.context.hide(),O(v).off("context_hide.vakata.jstree"),s.teardown.call(this)},this.show_contextmenu=function(t,n,r,e){if(!(t=this.get_node(t))||t.id===O.jstree.root)return!1;var i=this.settings.contextmenu,s=this.get_node(t,!0).children(".jstree-anchor"),a=!1;!i.show_at_node&&n!==D&&r!==D||(s=s.offset(),n=s.left,r=s.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(t)&&this.activate_node(t,e),a=i.items,O.vakata.is_function(a)&&(a=a.call(this,t,function(e){this._show_contextmenu(t,n,r,e)}.bind(this))),O.isPlainObject(a)&&this._show_contextmenu(t,n,r,a)},this._show_contextmenu=function(e,t,n,r){var i=this.get_node(e,!0).children(".jstree-anchor");O(v).one("context_show.vakata.jstree",function(e,t){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";O(t.element).addClass(n),i.addClass("jstree-context")}.bind(this)),this._data.contextmenu.visible=!0,O.vakata.context.show(i,{x:t,y:n},r),this.trigger("show_contextmenu",{node:e,x:t,y:n})}},u={element:h=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(l=O).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){l(v).triggerHandler("context_"+e+".vakata",{reference:u.reference,element:u.element,position:{x:u.position_x,y:u.position_y}})},_execute:function(e){return!(!(e=u.items[e])||e._disabled&&(!l.vakata.is_function(e._disabled)||e._disabled({item:e,reference:u.reference,element:u.element}))||!e.action)&&e.action.call(null,{item:e,reference:u.reference,element:u.element,position:{x:u.position_x,y:u.position_y}})},_parse:function(e,t){if(!e)return!1;t||(u.html="",u.items=[]);var n,r="",i=!1;return t&&(r+="<ul>"),l.each(e,function(e,t){if(!t)return!0;u.items.push(t),!i&&t.separator_before&&(r+="<li class='vakata-context-separator'><a href='#' "+(l.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),i=!1,r=(r+="<li class='"+(t._class||"")+(!0===t._disabled||l.vakata.is_function(t._disabled)&&t._disabled({item:t,reference:u.reference,element:u.element})?" vakata-contextmenu-disabled ":"")+"' "+(t.shortcut?" data-shortcut='"+t.shortcut+"' ":"")+">")+"<a href='#' rel='"+(u.items.length-1)+"' "+(t.title?"title='"+t.title+"'":"")+">",l.vakata.context.settings.icons&&(r+="<i ",t.icon&&(-1!==t.icon.indexOf("/")||-1!==t.icon.indexOf(".")?r+=" style='background:url(\""+t.icon+"\") center center no-repeat' ":r+=" class='"+t.icon+"' "),r+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),r+=(l.vakata.is_function(t.label)?t.label({item:e,reference:u.reference,element:u.element}):t.label)+(t.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+t.shortcut+'">'+(t.shortcut_label||"")+"</span>":"")+"</a>",t.submenu&&(n=l.vakata.context._parse(t.submenu,!0))&&(r+=n),r+="</li>",t.separator_after&&(r+="<li class='vakata-context-separator'><a href='#' "+(l.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",i=!0)}),r=r.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(r+="</ul>"),t||(u.html=r,l.vakata.context._trigger("parse")),10<r.length&&r},_show_submenu:function(e){var t,n,r,i,s,a,o,d;(e=l(e)).length&&e.children("ul").length&&(t=e.children("ul"),r=(n=e.offset().left)+e.outerWidth(),i=e.offset().top,s=t.width(),a=t.height(),o=l(window).width()+l(window).scrollLeft(),d=l(window).height()+l(window).scrollTop(),h?e[r-(s+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[o<r+s&&o-r<n?"addClass":"removeClass"]("vakata-context-right"),d<i+a+10&&t.css("bottom","-1px"),e.hasClass("vakata-context-right")?n<s&&t.css("margin-right",n-s):o-r<s&&t.css("margin-left",o-r-s),t.show())},show:function(e,t,n){var r,i,s,a,o,d,c;switch(u.element&&u.element.length&&u.element.width(""),!0){case!t&&!e:return!1;case!!t&&!!e:u.reference=e,u.position_x=t.x,u.position_y=t.y;break;case!t&&!!e:r=(u.reference=e).offset(),u.position_x=r.left+e.outerHeight(),u.position_y=r.top;break;case!!t&&!e:u.position_x=t.x,u.position_y=t.y}e&&!n&&l(e).data("vakata_contextmenu")&&(n=l(e).data("vakata_contextmenu")),l.vakata.context._parse(n)&&u.element.html(u.html),u.items.length&&(u.element.appendTo(v.body),n=u.element,i=u.position_x,s=u.position_y,a=n.width(),o=n.height(),d=l(window).width()+l(window).scrollLeft(),c=l(window).height()+l(window).scrollTop(),h&&(i-=n.outerWidth()-l(e).outerWidth())<l(window).scrollLeft()+20&&(i=l(window).scrollLeft()+20),u.element.css({left:i=d<i+a+20?d-(a+20):i,top:s=c<s+o+20?c-(o+20):s}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),u.is_visible=!0,l.vakata.context._trigger("show"))},hide:function(){u.is_visible&&(u.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),u.is_visible=!1,l.vakata.context._trigger("hide"))}},l(function(){h="rtl"===l(v.body).css("direction");var t=!1;u.element=l("<ul class='vakata-context'></ul>"),u.element.on("mouseenter","li",function(e){e.stopImmediatePropagation(),l.contains(this,e.relatedTarget)||(t&&clearTimeout(t),u.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),l(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),l.vakata.context._show_submenu(this))}).on("mouseleave","li",function(e){l.contains(this,e.relatedTarget)||l(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(e){l(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),l.vakata.context.settings.hide_onmouseleave&&(t=setTimeout(function(){l.vakata.context.hide()},l.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),l(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===l.vakata.context._execute(l(this).attr("rel"))||l.vakata.context.hide()}).on("keydown","a",function(e){var t=null;switch(e.which){case 13:case 32:e.type="click",e.preventDefault(),l(e.currentTarget).trigger(e);break;case 37:u.is_visible&&(u.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),e.stopImmediatePropagation(),e.preventDefault());break;case 38:u.is_visible&&((t=(t=u.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length?t:u.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()).addClass("vakata-context-hover").children("a").trigger("focus"),e.stopImmediatePropagation(),e.preventDefault());break;case 39:u.is_visible&&(u.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),e.stopImmediatePropagation(),e.preventDefault());break;case 40:u.is_visible&&((t=(t=u.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length?t:u.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()).addClass("vakata-context-hover").children("a").trigger("focus"),e.stopImmediatePropagation(),e.preventDefault());break;case 27:l.vakata.context.hide(),e.preventDefault()}}).on("keydown",function(e){e.preventDefault();e=u.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();e.parent().not(".vakata-context-disabled")&&e.trigger("click")}),l(v).on("mousedown.vakata.jstree",function(e){u.is_visible&&u.element[0]!==e.target&&!l.contains(u.element[0],e.target)&&l.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,t){u.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),h&&u.element.addClass("vakata-context-rtl").css("direction","rtl"),u.element.find("ul").hide().end()})}),O.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},O.jstree.plugins.dnd=function(e,o){this.init=function(e,t){o.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in v.createElement("span")},this.bind=function(){o.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(e){if(this.settings.dnd.large_drag_target&&O(e.target).closest(".jstree-node")[0]!==e.currentTarget)return!0;if("touchstart"===e.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var t=this.get_node(e.target),n=this.is_selected(t)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=1<n?n+" "+this.get_string("nodes"):this.get_text(e.currentTarget);if(this.settings.core.force_text&&(r=O.vakata.html.escape(r)),t&&t.id&&t.id!==O.jstree.root&&(1===e.which||"touchstart"===e.type||"dragstart"===e.type)&&(!0===this.settings.dnd.is_draggable||O.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<n?this.get_top_selected(!0):[t],e))){if(i={jstree:!0,origin:this,obj:this.get_node(t,!0),nodes:1<n?this.get_top_selected():[t.id]},s=e.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),O.vakata.dnd.start(e,i,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy">+</ins></div>');O.vakata.dnd._trigger("start",e,{helper:O(),element:s,data:i})}}.bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(e){return e.preventDefault(),O.vakata.dnd._trigger("move",e,{helper:O(),element:s,data:i}),!1}).on("drop.jstree",function(e){return e.preventDefault(),O.vakata.dnd._trigger("stop",e,{helper:O(),element:s,data:i}),!1}.bind(this))},this.redraw_node=function(e,t,n,r){if((e=o.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{for(var i=null,s=0,a=e.childNodes.length;s<a;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){i=e.childNodes[s];break}i&&i.setAttribute("draggable",!0)}return e}},O(function(){var T=!1,N=!1,A=!1,S=!1,E=O('<div id="jstree-marker">&#160;</div>').hide();O(v).on("dragover.vakata.jstree",function(e){s&&O.vakata.dnd._trigger("move",e,{helper:O(),element:s,data:i})}).on("drop.vakata.jstree",function(e){s&&(O.vakata.dnd._trigger("stop",e,{helper:O(),element:s,data:i}),i=s=null)}).on("dnd_start.vakata.jstree",function(e,t){A=T=!1,t&&t.data&&t.data.jstree&&E.appendTo(v.body)}).on("dnd_move.vakata.jstree",function(e,i){var s=i.event.target!==A.target;if(!S||i.event&&"dragover"===i.event.type&&!s||clearTimeout(S),i&&i.data&&i.data.jstree&&(!i.event.target.id||"jstree-marker"!==i.event.target.id)){A=i.event;var a,t,o,d,c,l,h,u,f,p,g,_,m,v,y,b,j,x,k,w=O.jstree.reference(i.event.target),C=!1;if(w&&w._data&&w._data.dnd)if(E.attr("class","jstree-"+w.get_theme()+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")),j=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey)),i.helper.children().attr("class","jstree-"+w.get_theme()+" jstree-"+w.get_theme()+"-"+w.get_theme_variant()+" "+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[j?"show":"hide"](),i.event.target!==w.element[0]&&i.event.target!==w.get_container_ul()[0]||0!==w.get_container_ul().children().length){if((C=w.settings.dnd.large_drop_target?O(i.event.target).closest(".jstree-node").children(".jstree-anchor"):O(i.event.target).closest(".jstree-anchor"))&&C.length&&C.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(a=C.offset(),t=(i.event.pageY!==D?i.event:i.event.originalEvent).pageY-a.top,c=C.outerHeight(),u=t<c/3?["b","i","a"]:c-c/3<t?["a","i","b"]:c/2<t?["i","a","b"]:["i","b","a"],O.each(u,function(e,t){switch(t){case"b":o=a.left-6,d=a.top,l=w.get_parent(C),h=C.parent().index(),k="jstree-below";break;case"i":y=w.settings.dnd.inside_pos,b=w.get_node(C.parent()),o=a.left-2,d=a.top+c/2+1,l=b.id,h="first"===y?0:"last"===y?b.children.length:Math.min(y,b.children.length),k="jstree-inside";break;case"a":o=a.left-6,d=a.top+c,l=w.get_parent(C),h=C.parent().index()+1,k="jstree-above"}for(f=!0,p=0,g=i.data.nodes.length;p<g;p++)if(_=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",m=h,"move_node"==_&&"a"===t&&i.data.origin&&i.data.origin===w&&l===w.get_parent(i.data.nodes[p])&&(v=w.get_node(l),m>O.inArray(i.data.nodes[p],v.children)&&--m),!(f=f&&(w&&w.settings&&w.settings.dnd&&!1===w.settings.dnd.check_while_dragging||w.check(_,i.data.origin&&i.data.origin!==w?i.data.origin.get_node(i.data.nodes[p]):i.data.nodes[p],l,m,{dnd:!0,ref:w.get_node(C.parent()),pos:t,origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==w,is_foreign:!i.data.origin})))){w&&w.last_error&&(N=w.last_error());break}var n,r;if("i"===t&&C.parent().is(".jstree-closed")&&w.settings.dnd.open_timeout&&(i.event&&"dragover"===i.event.type&&!s||(S&&clearTimeout(S),S=setTimeout((r=C,function(){n.open_node(r)}),(n=w).settings.dnd.open_timeout))),f)return(x=w.get_node(l,!0)).hasClass(".jstree-dnd-parent")||(O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),x.addClass("jstree-dnd-parent")),T={ins:w,par:l,pos:"i"!==t||"last"!==y||0!==h||w.is_loaded(b)?h:"last"},E.css({left:o+"px",top:d+"px"}).show(),E.removeClass("jstree-above jstree-inside jstree-below").addClass(k),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"),N={},!(u=!0)}),!0===u))return}else{for(f=!0,p=0,g=i.data.nodes.length;p<g&&(f=f&&w.check(i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",i.data.origin&&i.data.origin!==w?i.data.origin.get_node(i.data.nodes[p]):i.data.nodes[p],O.jstree.root,"last",{dnd:!0,ref:w.get_node(O.jstree.root),pos:"i",origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==w,is_foreign:!i.data.origin}));p++);if(f)return T={ins:w,par:O.jstree.root,pos:"last"},E.hide(),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"))}O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T=!1,i.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),i.event.originalEvent&&i.event.originalEvent.dataTransfer,E.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(E.hide(),A=T=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(e,t){if(O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),S&&clearTimeout(S),t&&t.data&&t.data.jstree){E.hide().detach();var n,r,i=[];if(T){for(n=0,r=t.data.nodes.length;n<r;n++)i[n]=t.data.origin?t.data.origin.get_node(t.data.nodes[n]):t.data.nodes[n];T.ins[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(t.event.metaKey||t.event.ctrlKey))?"copy_node":"move_node"](i,T.par,T.pos,!1,!1,!1,t.data.origin)}else(n=O(t.event.target).closest(".jstree")).length&&N&&N.error&&"check"===N.error&&(n=n.jstree(!0))&&n.settings.core.error.call(this,N);T=A=!1}}).on("keyup.jstree keydown.jstree",function(e,t){(t=O.vakata.dnd._get())&&t.data&&t.data.jstree&&("keyup"===e.type&&27===e.which?(S&&clearTimeout(S),S=A=N=T=!1,E.hide().detach(),O.vakata.dnd._clean()):(t.helper.find(".jstree-copy").first()[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(e.metaKey||e.ctrlKey))?"show":"hide"](),A&&(A.metaKey=e.metaKey,A.ctrlKey=e.ctrlKey,O.vakata.dnd._trigger("move",A))))})}),p={element:!((f=O).vakata.html={div:f("<div></div>"),escape:function(e){return f.vakata.html.div.text(e).html()},strip:function(e){return f.vakata.html.div.empty().append(f.parseHTML(e)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},f.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(e,t,n){(n=n===D?f.vakata.dnd._get():n).event=t,f(v).triggerHandler("dnd_"+e+".vakata",n)},_get:function(){return{data:p.data,element:p.element,helper:p.helper}},_clean:function(){p.helper&&p.helper.remove(),p.scroll_i&&(clearInterval(p.scroll_i),p.scroll_i=!1),p={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},s=null,f(v).off("mousemove.vakata.jstree touchmove.vakata.jstree",f.vakata.dnd.drag),f(v).off("mouseup.vakata.jstree touchend.vakata.jstree",f.vakata.dnd.stop)},_scroll:function(e){if(!p.scroll_e||!p.scroll_l&&!p.scroll_t)return p.scroll_i&&(clearInterval(p.scroll_i),p.scroll_i=!1),!1;if(!p.scroll_i)return p.scroll_i=setInterval(f.vakata.dnd._scroll,100),!1;if(!0===e)return!1;var e=p.scroll_e.scrollTop(),t=p.scroll_e.scrollLeft();p.scroll_e.scrollTop(e+p.scroll_t*f.vakata.dnd.settings.scroll_speed),p.scroll_e.scrollLeft(t+p.scroll_l*f.vakata.dnd.settings.scroll_speed),e===p.scroll_e.scrollTop()&&t===p.scroll_e.scrollLeft()||f.vakata.dnd._trigger("scroll",p.scroll_e)},start:function(e,t,n){"touchstart"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=v.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_drag&&f.vakata.dnd.stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.touchAction="none",e.currentTarget.style.msTouchAction="none",e.currentTarget.style.MozUserSelect="none")}catch(e){}return p.init_x=e.pageX,p.init_y=e.pageY,p.data=t,p.is_down=!0,p.element=e.currentTarget,p.target=e.target,p.is_touch="touchstart"===e.type,!1!==n&&(p.helper=f("<div id='vakata-dnd'></div>").html(n).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),f(v).on("mousemove.vakata.jstree touchmove.vakata.jstree",f.vakata.dnd.drag),f(v).on("mouseup.vakata.jstree touchend.vakata.jstree",f.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=v.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_down){if(!p.is_drag){if(!(Math.abs(n.pageX-p.init_x)>(p.is_touch?f.vakata.dnd.settings.threshold_touch:f.vakata.dnd.settings.threshold)||Math.abs(n.pageY-p.init_y)>(p.is_touch?f.vakata.dnd.settings.threshold_touch:f.vakata.dnd.settings.threshold)))return;p.helper&&(p.helper.appendTo(v.body),p.helper_w=p.helper.outerWidth()),p.is_drag=!0,f(p.target).one("click.vakata",!1),f.vakata.dnd._trigger("start",n)}var e,t,r,i=!1,s=!1,a=!1,o=!1,d=!1,c=!1;return p.scroll_t=0,p.scroll_l=0,p.scroll_e=!1,f(f(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(f(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var e=f(this),t=e.offset();if(this.scrollHeight>this.offsetHeight&&(t.top+e.height()-n.pageY<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=1),n.pageY-t.top<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(t.left+e.width()-n.pageX<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=1),n.pageX-t.left<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=-1)),p.scroll_t||p.scroll_l)return p.scroll_e=f(this),!1}),p.scroll_e||(i=f(v),s=f(window),a=i.height(),e=s.height(),o=i.width(),s=s.width(),t=i.scrollTop(),r=i.scrollLeft(),e<a&&n.pageY-t<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=-1),e<a&&e-(n.pageY-t)<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=1),s<o&&n.pageX-r<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=-1),s<o&&s-(n.pageX-r)<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=1),(p.scroll_t||p.scroll_l)&&(p.scroll_e=i)),p.scroll_e&&f.vakata.dnd._scroll(!0),p.helper&&(d=parseInt(n.pageY+f.vakata.dnd.settings.helper_top,10),c=parseInt(n.pageX+f.vakata.dnd.settings.helper_left,10),o&&c+p.helper_w>o&&(c=o-(p.helper_w+2)),p.helper.css({left:c+"px",top:(d=a&&a<d+25?a-50:d)+"px"})),f.vakata.dnd._trigger("move",n),!1}},stop:function(e){var t;return"touchend"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=v.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_drag?(e.target!==p.target&&f(p.target).off("click.vakata"),f.vakata.dnd._trigger("stop",e)):"touchend"===e.type&&e.target===p.target&&(t=setTimeout(function(){f(e.target).trigger("click")},100),f(e.target).one("click",function(){t&&clearTimeout(t)})),f.vakata.dnd._clean(),!1}},O.jstree.defaults.massload=null,O.jstree.plugins.massload=function(e,l){this.init=function(e,t){this._data.massload={},l.init.call(this,e,t)},this._load_nodes=function(s,a,o,d){var e,t,c,n=this.settings.massload,r=[],i=this._model.data;if(!o){for(e=0,t=s.length;e<t;e++)i[s[e]]&&(i[s[e]].state.loaded||i[s[e]].state.failed)&&!d||(r.push(s[e]),(c=this.get_node(s[e],!0))&&c.length&&c.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},r.length){if(O.vakata.is_function(n))return n.call(this,r,function(e){var t,n;if(e)for(t in e)e.hasOwnProperty(t)&&(this._data.massload[t]=e[t]);for(t=0,n=s.length;t<n;t++)(c=this.get_node(s[t],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);l._load_nodes.call(this,s,a,o,d)}.bind(this));if("object"==typeof n&&n&&n.url)return n=O.extend(!0,{},n),O.vakata.is_function(n.url)&&(n.url=n.url.call(this,r)),O.vakata.is_function(n.data)&&(n.data=n.data.call(this,r)),O.ajax(n).done(function(e,t,n){var r,i;if(e)for(r in e)e.hasOwnProperty(r)&&(this._data.massload[r]=e[r]);for(r=0,i=s.length;r<i;r++)(c=this.get_node(s[r],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);l._load_nodes.call(this,s,a,o,d)}.bind(this)).fail(function(e){l._load_nodes.call(this,s,a,o,d)}.bind(this))}}return l._load_nodes.call(this,s,a,o,d)},this._load_node=function(e,t){var n,r=this._data.massload[e.id];return r?(r=this["string"==typeof r?"_append_html_data":"_append_json_data"](e,"string"==typeof r?O(O.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(e){t.call(this,e)}),(n=this.get_node(e.id,!0))&&n.length&&n.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[e.id],r):l._load_node.call(this,e,t)}},O.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},O.jstree.plugins.search=function(e,o){this.bind=function(){o.bind.call(this),this._data.search.str="",this._data.search.dom=O(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",function(e,t){if(this._data.search.som&&t.res.length){for(var n,r,i=this._model.data,s=[],a=0,o=t.res.length;a<o;a++)if(i[t.res[a]]&&!i[t.res[a]].state.hidden&&(s.push(t.res[a]),s=s.concat(i[t.res[a]].parents),this._data.search.smc))for(n=0,r=i[t.res[a]].children_d.length;n<r;n++)i[i[t.res[a]].children_d[n]]&&!i[i[t.res[a]].children_d[n]].state.hidden&&s.push(i[t.res[a]].children_d[n]);s=O.vakata.array_remove_item(O.vakata.array_unique(s),O.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(s,!0),this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))},this.search=function(r,e,t,n,i,s){if(!1===r||""===O.vakata.trim(r.toString()))return this.clear_search();n=(n=this.get_node(n))&&n.id?n.id:null,r=r.toString();var a,o,d=this.settings.search,c=d.ajax||!1,l=this._model.data,h=null,u=[],f=[];if(this._data.search.res.length&&!i&&this.clear_search(),t===D&&(t=d.show_only_matches),s===D&&(s=d.show_only_matches_children),!e&&!1!==c)return O.vakata.is_function(c)?c.call(this,r,function(e){e&&e.d&&(e=e.d),this._load_nodes(O.vakata.is_array(e)?O.vakata.array_unique(e):[],function(){this.search(r,!0,t,n,i,s)})}.bind(this),n):((c=O.extend({},c)).data||(c.data={}),c.data.str=r,n&&(c.data.inside=n),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=O.ajax(c).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(c)},this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(e){e&&e.d&&(e=e.d),this._load_nodes(O.vakata.is_array(e)?O.vakata.array_unique(e):[],function(){this.search(r,!0,t,n,i,s)})}.bind(this)),this._data.search.lastRequest);if(i||(this._data.search.str=r,this._data.search.dom=O(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=t,this._data.search.smc=s),h=new O.vakata.search(r,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),O.each(l[n||O.jstree.root].children_d,function(e,t){var n=l[t];n.text&&!n.state.hidden&&(!d.search_leaves_only||n.state.loaded&&0===n.children.length)&&(d.search_callback&&d.search_callback.call(this,r,n)||!d.search_callback&&h.search(n.text).isMatch)&&(u.push(t),f=f.concat(n.parents))}),u.length){for(a=0,o=(f=O.vakata.array_unique(f)).length;a<o;a++)f[a]!==O.jstree.root&&l[f[a]]&&!0===this.open_node(f[a],null,0)&&this._data.search.opn.push(f[a]);i?(this._data.search.dom=this._data.search.dom.add(O(this.element[0].querySelectorAll("#"+O.map(u,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=O.vakata.array_unique(this._data.search.res.concat(u))):(this._data.search.dom=O(this.element[0].querySelectorAll("#"+O.map(u,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=u),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:r,res:this._data.search.res,show_only_matches:t})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=O(this.element[0].querySelectorAll("#"+O.map(this._data.search.res,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=O()},this.redraw_node=function(e,t,n,r){if((e=o.redraw_node.apply(this,arguments))&&-1!==O.inArray(e.id,this._data.search.res)){for(var i=null,s=0,a=e.childNodes.length;s<a;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){i=e.childNodes[s];break}i&&(i.className+=" jstree-search")}return e}},(r=O).vakata.search=function(_,e,m){m=m||{},!1!==(m=r.extend({},r.vakata.search.defaults,m)).fuzzy&&(m.fuzzy=!0),_=m.caseSensitive?_:_.toLowerCase();var v,y,b,t,j=m.location,n=m.distance,x=m.threshold,k=_.length;return 32<k&&(m.fuzzy=!1),m.fuzzy&&(v=1<<k-1,y=function(){for(var e={},t=0,t=0;t<k;t++)e[_.charAt(t)]=0;for(t=0;t<k;t++)e[_.charAt(t)]|=1<<k-t-1;return e}(),b=function(e,t){e/=k,t=Math.abs(j-t);return n?e+t/n:t?1:e}),t=function(e){if(e=m.caseSensitive?e:e.toLowerCase(),_===e||-1!==e.indexOf(_))return{isMatch:!0,score:0};if(!m.fuzzy)return{isMatch:!1,score:1};var t,n,r,i,s,a,o,d,c,l=e.length,h=x,u=e.indexOf(_,j),f=k+l,p=1,g=[];for(-1!==u&&(h=Math.min(b(0,u),h),-1!==(u=e.lastIndexOf(_,j+k))&&(h=Math.min(b(0,u),h))),u=-1,t=0;t<k;t++){for(r=0,i=f;r<i;)b(t,j+i)<=h?r=i:f=i,i=Math.floor((f-r)/2+r);for(f=i,a=Math.max(1,j-i+1),o=Math.min(j+i,l)+k,(d=new Array(o+2))[o+1]=(1<<t)-1,n=o;a<=n;n--)if(c=y[e.charAt(n-1)],d[n]=0===t?(d[n+1]<<1|1)&c:(d[n+1]<<1|1)&c|(s[n+1]|s[n])<<1|1|s[n+1],d[n]&v&&(p=b(t,n-1))<=h){if(h=p,g.push(u=n-1),!(j<u))break;a=Math.max(1,2*j-u)}if(b(t+1,j)>h)break;s=d}return{isMatch:0<=u,score:p}},!0===e?{search:t}:t(e)},r.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},O.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},!(O.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",function(e,t){this.sort(t.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}.bind(this))},this.sort=function(e,t){var n,r;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(this.settings.sort.bind(this)),t))for(n=0,r=e.children_d.length;n<r;n++)this.sort(e.children_d[n],!1)}})),b=(O.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},O.jstree.plugins.state=function(e,t){this.bind=function(){t.bind.call(this);var n=function(){this.element.on(this.settings.state.events,function(){y&&clearTimeout(y),y=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this)),this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(e,t){this.element.one("restore_state.jstree",n),this.restore_state()||n()}.bind(this))},this.save_state=function(){var e=this.get_state(),e=(this.settings.state.preserve_loaded||delete e.core.loaded,{state:e,ttl:this.settings.state.ttl,sec:+new Date});O.vakata.storage.set(this.settings.state.key,JSON.stringify(e))},this.restore_state=function(){var n=O.vakata.storage.get(this.settings.state.key);if(n)try{n=JSON.parse(n)}catch(e){return!1}return!(n&&n.ttl&&n.sec&&+new Date-n.sec>n.ttl)&&(!!(n=(n=n&&n.state?n.state:n)&&O.vakata.is_function(this.settings.state.filter)?this.settings.state.filter.call(this,n):n)&&(this.settings.state.preserve_loaded||delete n.core.loaded,this.element.one("set_state.jstree",function(e,t){t.instance.trigger("restore_state",{state:O.extend(!0,{},n)})}),this.set_state(n),!0))},this.clear_state=function(){return O.vakata.storage.del(this.settings.state.key)}},O.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}},O.jstree.defaults.types={default:{}},O.jstree.defaults.types[O.jstree.root]={},O.jstree.plugins.types=function(e,l){this.init=function(e,t){var n,r;if(t&&t.types&&t.types.default)for(n in t.types)if("default"!==n&&n!==O.jstree.root&&t.types.hasOwnProperty(n))for(r in t.types.default)t.types.default.hasOwnProperty(r)&&t.types[n][r]===D&&(t.types[n][r]=t.types.default[r]);l.init.call(this,e,t),this._model.data[O.jstree.root].type=O.jstree.root},this.refresh=function(e,t){l.refresh.call(this,e,t),this._model.data[O.jstree.root].type=O.jstree.root},this.bind=function(){this.element.on("model.jstree",function(e,t){for(var n,r=this._model.data,i=t.nodes,s=this.settings.types,a="default",o=0,d=i.length;o<d;o++){if(a="default",r[i[o]].original&&r[i[o]].original.type&&s[r[i[o]].original.type]&&(a=r[i[o]].original.type),r[i[o]].data&&r[i[o]].data.jstree&&r[i[o]].data.jstree.type&&s[r[i[o]].data.jstree.type]&&(a=r[i[o]].data.jstree.type),r[i[o]].type=a,!0===r[i[o]].icon&&s[a].icon!==D&&(r[i[o]].icon=s[a].icon),s[a].li_attr!==D&&"object"==typeof s[a].li_attr)for(n in s[a].li_attr)s[a].li_attr.hasOwnProperty(n)&&"id"!==n&&(r[i[o]].li_attr[n]===D?r[i[o]].li_attr[n]=s[a].li_attr[n]:"class"===n&&(r[i[o]].li_attr.class=s[a].li_attr.class+" "+r[i[o]].li_attr.class));if(s[a].a_attr!==D&&"object"==typeof s[a].a_attr)for(n in s[a].a_attr)s[a].a_attr.hasOwnProperty(n)&&"id"!==n&&(r[i[o]].a_attr[n]===D?r[i[o]].a_attr[n]=s[a].a_attr[n]:"href"===n&&"#"===r[i[o]].a_attr[n]?r[i[o]].a_attr.href=s[a].a_attr.href:"class"===n&&(r[i[o]].a_attr.class=s[a].a_attr.class+" "+r[i[o]].a_attr.class))}r[O.jstree.root].type=O.jstree.root}.bind(this)),l.bind.call(this)},this.get_json=function(e,t,n){var r,i,s=this._model.data,a=t?O.extend(!0,{},t,{no_id:!1}):{},o=l.get_json.call(this,e,a,n);if(!1===o)return!1;if(O.vakata.is_array(o))for(r=0,i=o.length;r<i;r++)o[r].type=o[r].id&&s[o[r].id]&&s[o[r].id].type?s[o[r].id].type:"default",t&&t.no_id&&(delete o[r].id,o[r].li_attr&&o[r].li_attr.id&&delete o[r].li_attr.id,o[r].a_attr&&o[r].a_attr.id&&delete o[r].a_attr.id);else o.type=o.id&&s[o.id]&&s[o.id].type?s[o.id].type:"default",t&&t.no_id&&(o=this._delete_ids(o));return o},this._delete_ids=function(e){if(O.vakata.is_array(e)){for(var t=0,n=e.length;t<n;t++)e[t]=this._delete_ids(e[t]);return e}return delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id,e.children&&O.vakata.is_array(e.children)&&(e.children=this._delete_ids(e.children)),e},this.check=function(e,t,n,r,i){if(!1===l.check.call(this,e,t,n,r,i))return!1;t=t&&t.id?t:this.get_node(t),n=n&&n.id?n:this.get_node(n);var s,a,o,d,c=(c=t&&t.id?i&&i.origin?i.origin:O.jstree.reference(t.id):null)&&c._model&&c._model.data?c._model.data:null;switch(e){case"create_node":case"move_node":case"copy_node":if("move_node"!==e||-1===O.inArray(t.id,n.children)){if((s=this.get_rules(n)).max_children!==D&&-1!==s.max_children&&s.max_children===n.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(s.valid_children!==D&&-1!==s.valid_children&&-1===O.inArray(t.type||"default",s.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(c&&t.children_d&&t.parents){for(o=a=0,d=t.children_d.length;o<d;o++)a=Math.max(a,c[t.children_d[o]].parents.length);a=a-t.parents.length+1}(a<=0||a===D)&&(a=1);do{if(s.max_depth!==D&&-1!==s.max_depth&&s.max_depth<a)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})}while(n=this.get_node(n.parent),s=this.get_rules(n),a++,n)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;e=this.get_type(e,!0);return e.max_depth===D&&(e.max_depth=-1),e.max_children===D&&(e.max_children=-1),e.valid_children===D&&(e.valid_children=-1),e},this.get_type=function(e,t){return!!(e=this.get_node(e))&&(t?O.extend({type:e.type},this.settings.types[e.type]):e.type)},this.set_type=function(e,t){var n,r,i,s,a,o,d,c,l=this._model.data;if(O.vakata.is_array(e)){for(r=0,i=(e=e.slice()).length;r<i;r++)this.set_type(e[r],t);return!0}if(n=this.settings.types,e=this.get_node(e),!n[t]||!e)return!1;if((d=this.get_node(e,!0))&&d.length&&(c=d.children(".jstree-anchor")),s=e.type,a=this.get_icon(e),e.type=t,!0!==a&&n[s]&&(n[s].icon===D||a!==n[s].icon)||this.set_icon(e,n[t].icon===D||n[t].icon),n[s]&&n[s].li_attr!==D&&"object"==typeof n[s].li_attr)for(o in n[s].li_attr)n[s].li_attr.hasOwnProperty(o)&&"id"!==o&&("class"===o?(l[e.id].li_attr.class=(l[e.id].li_attr.class||"").replace(n[s].li_attr[o],""),d&&d.removeClass(n[s].li_attr[o])):l[e.id].li_attr[o]===n[s].li_attr[o]&&(l[e.id].li_attr[o]=null,d&&d.removeAttr(o)));if(n[s]&&n[s].a_attr!==D&&"object"==typeof n[s].a_attr)for(o in n[s].a_attr)n[s].a_attr.hasOwnProperty(o)&&"id"!==o&&("class"===o?(l[e.id].a_attr.class=(l[e.id].a_attr.class||"").replace(n[s].a_attr[o],""),c&&c.removeClass(n[s].a_attr[o])):l[e.id].a_attr[o]===n[s].a_attr[o]&&("href"===o?(l[e.id].a_attr[o]="#",c&&c.attr("href","#")):(delete l[e.id].a_attr[o],c&&c.removeAttr(o))));if(n[t].li_attr!==D&&"object"==typeof n[t].li_attr)for(o in n[t].li_attr)n[t].li_attr.hasOwnProperty(o)&&"id"!==o&&(l[e.id].li_attr[o]===D?(l[e.id].li_attr[o]=n[t].li_attr[o],d&&("class"===o?d.addClass(n[t].li_attr[o]):d.attr(o,n[t].li_attr[o]))):"class"===o&&(l[e.id].li_attr.class=n[t].li_attr[o]+" "+l[e.id].li_attr.class,d&&d.addClass(n[t].li_attr[o])));if(n[t].a_attr!==D&&"object"==typeof n[t].a_attr)for(o in n[t].a_attr)n[t].a_attr.hasOwnProperty(o)&&"id"!==o&&(l[e.id].a_attr[o]===D?(l[e.id].a_attr[o]=n[t].a_attr[o],c&&("class"===o?c.addClass(n[t].a_attr[o]):c.attr(o,n[t].a_attr[o]))):"href"===o&&"#"===l[e.id].a_attr[o]?(l[e.id].a_attr.href=n[t].a_attr.href,c&&c.attr("href",n[t].a_attr.href)):"class"===o&&(l[e.id].a_attr.class=n[t].a_attr.class+" "+l[e.id].a_attr.class,c&&c.addClass(n[t].a_attr[o])));return!0}},O.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},O.jstree.plugins.unique=function(e,g){this.check=function(e,t,n,r,i){if(!1===g.check.call(this,e,t,n,r,i))return!1;if(t=t&&t.id?t:this.get_node(t),!(n=n&&n.id?n:this.get_node(n))||!n.children)return!0;for(var s,a="rename_node"===e?r:t.text,o=[],d=this.settings.unique.case_sensitive,c=this.settings.unique.trim_whitespace,l=this._model.data,h=0,u=n.children.length;h<u;h++)s=l[n.children[h]].text,d||(s=s.toLowerCase()),c&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),o.push(s);switch(d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),e){case"delete_node":return!0;case"rename_node":return s=t.text||"",d||(s=s.toLowerCase()),c&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(h=-1===O.inArray(a,o)||t.text&&s===a)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h;case"create_node":return(h=-1===O.inArray(a,o))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h;case"copy_node":return(h=-1===O.inArray(a,o))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h;case"move_node":return(h=t.parent===n.id&&(!i||!i.is_multi)||-1===O.inArray(a,o))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+a+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),h}return!0},this.create_node=function(e,t,n,r,i){if(!t||t.text===D){if(null===e&&(e=O.jstree.root),!(e=this.get_node(e)))return g.create_node.call(this,e,t,n,r,i);if(!(n=n===D?"last":n).toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(e))return g.create_node.call(this,e,t,n,r,i);t=t||{};for(var s,a,o=this._model.data,d=this.settings.unique.case_sensitive,c=this.settings.unique.trim_whitespace,l=this.settings.unique.duplicate,h=s=this.get_string("New node"),u=[],f=0,p=e.children.length;f<p;f++)a=o[e.children[f]].text,d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),u.push(a);for(f=1,a=h,d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==O.inArray(a,u);)a=h=l.call(this,s,++f).toString(),d||(a=a.toLowerCase()),c&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));t.text=h}return g.create_node.call(this,e,t,n,r,i)}},v.createElement("DIV"));if(b.setAttribute("unselectable","on"),b.setAttribute("role","presentation"),b.className="jstree-wholerow",b.innerHTML="&#160;",O.jstree.plugins.wholerow=function(e,s){this.bind=function(){s.bind.call(this),this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var n=!1,r=0,i=t.selected.length;r<i;r++)(n=this.get_node(t.selected[r],!0))&&n.length&&n.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(e){var t;this._data.contextmenu&&(e.preventDefault(),t=O.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY}),O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t))}.bind(this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=O.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=O.Event("dblclick",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",function(e){e.stopImmediatePropagation();var t=O.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(e){this.dehover_node(e.currentTarget)}.bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),s.teardown.call(this)},this.redraw_node=function(e,t,n,r){var i;return(e=s.redraw_node.apply(this,arguments))&&(i=b.cloneNode(!0),-1!==O.inArray(e.id,this._data.core.selected)&&(i.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===e.id&&(i.className+=" jstree-wholerow-hovered"),e.insertBefore(i,e.childNodes[0])),e}},window.customElements&&Object&&Object.create){e=Object.create(HTMLElement.prototype);e.createdCallback=function(){var e,t={core:{},plugins:[]};for(e in O.jstree.plugins)O.jstree.plugins.hasOwnProperty(e)&&this.attributes[e]&&(t.plugins.push(e),this.getAttribute(e)&&JSON.parse(this.getAttribute(e))&&(t[e]=JSON.parse(this.getAttribute(e))));for(e in O.jstree.defaults.core)O.jstree.defaults.core.hasOwnProperty(e)&&this.attributes[e]&&(t.core[e]=JSON.parse(this.getAttribute(e))||this.getAttribute(e));O(this).jstree(t)};try{window.customElements.define("vakata-jstree",function(){},{prototype:e})}catch(e){}}}}),e=function(i){"use strict";i.preload=function(t){var e=i.extend({},{bodyHideClass:"preload-hide",bodyActiveClass:"preload-active"},i.preload.defaults),n=[{event:"show",action:function(){i("body").removeClass(e.bodyHideClass),i("body").addClass(e.bodyActiveClass)}},{event:"hide",action:function(){i("body").addClass(e.bodyHideClass),i("body").removeClass(e.bodyActiveClass)}}];var r=i(this);return"string"==typeof t&&n.forEach(function(e){t==e.event&&e.action(r)}),this},setTimeout(function(){i.preload("hide")},6e3),i(function(){i.preload("hide")})},"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery);