{% from "components/variables.njk" import defaults %}

<script type="module">
  // Get user id from local storage
  const userId = localStorage.getItem("firebase_user_id");

  // Check whether user id is existed
  if (userId) {

    // Define URL parameters instance
    const urlParams = new URLSearchParams(window.location.search);
    const redirectUrl = urlParams.get('redirect');

    // Redirect to home page or URL from the parameter
    window.location.replace(redirectUrl ? redirectUrl : "{{ defaults.home_path }}");
  }
</script>